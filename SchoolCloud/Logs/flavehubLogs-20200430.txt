2020-04-30T00:28:30.3059878+01:00 80000012-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T00:28:30.3233947+01:00 80000012-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T00:28:30.3500637+01:00 80000012-0001-fb00-b63f-84710c7967bb [INF] Request finished in 27.1738ms 204  (791a596a)
2020-04-30T00:28:30.3558387+01:00 80000014-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 62 (ca22a1cb)
2020-04-30T00:28:30.3837630+01:00 80000014-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T00:28:30.3919587+01:00 80000014-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T00:28:30.3963127+01:00 80000014-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T00:28:30.4110946+01:00 80000014-0001-fb00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T00:28:31.2549011+01:00 80000014-0001-fb00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T00:28:31.2877630+01:00 80000014-0001-fb00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T00:28:31.2969682+01:00 80000014-0001-fb00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T00:28:31.3104597+01:00 80000014-0001-fb00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T00:28:31.3182159+01:00 80000014-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T00:28:31.3219933+01:00 80000014-0001-fb00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 923.2696000000001ms (afa2e885)
2020-04-30T00:28:31.3263812+01:00 80000014-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T00:28:31.3299356+01:00 80000014-0001-fb00-b63f-84710c7967bb [INF] Request finished in 994.8856000000001ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T00:28:38.0575002+01:00 8000005c-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T00:28:38.0988914+01:00 8000005c-0000-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T00:28:38.1072764+01:00 8000005c-0000-fe00-b63f-84710c7967bb [INF] Request finished in 155.5739ms 204  (791a596a)
2020-04-30T00:28:38.1147215+01:00 8000005e-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 62 (ca22a1cb)
2020-04-30T00:28:38.1181980+01:00 8000005e-0000-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T00:28:38.3593295+01:00 8000005e-0000-fe00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T00:28:38.3749726+01:00 8000005e-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T00:28:38.3843434+01:00 8000005e-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T00:28:38.4228227+01:00 8000005e-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T00:28:38.4840527+01:00 8000005e-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T00:28:38.5573164+01:00 8000005e-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T00:28:38.6044405+01:00 8000005e-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T00:28:38.6403405+01:00 8000005e-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T00:28:38.6909578+01:00 8000005e-0000-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T00:28:38.7101449+01:00 8000005e-0000-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 308.3446ms (afa2e885)
2020-04-30T00:28:38.7926386+01:00 8000005e-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T00:28:38.8343377+01:00 8000005e-0000-fe00-b63f-84710c7967bb [INF] Request finished in 681.4606ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T00:28:59.0385263+01:00 80000016-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44355/   (ca22a1cb)
2020-04-30T00:28:59.0482917+01:00 80000016-0001-fb00-b63f-84710c7967bb [INF] Request finished in 4.8871ms 404  (791a596a)
2020-04-30T00:29:03.8389991+01:00 80000060-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44355/swagger/index.html   (ca22a1cb)
2020-04-30T00:29:05.1825205+01:00 80000060-0000-fe00-b63f-84710c7967bb [INF] Request finished in 1348.8284ms 200 text/html;charset=utf-8 (791a596a)
2020-04-30T00:29:06.2164946+01:00 80000018-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44355/swagger/v1/swagger.json   (ca22a1cb)
2020-04-30T00:29:06.7933453+01:00 80000018-0001-fb00-b63f-84710c7967bb [INF] Request finished in 568.6186ms 200 application/json;charset=utf-8 (791a596a)
2020-04-30T00:57:01.7533238+01:00  [INF] User profile is available. Using '"C:\Users\flave\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2020-04-30T00:57:11.2939402+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T00:57:17.0599349+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-30T00:57:20.4154387+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T00:57:22.2964756+01:00 8000000e-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44355/   (ca22a1cb)
2020-04-30T00:57:23.7334943+01:00 8000000e-0000-fd00-b63f-84710c7967bb [INF] Request finished in 1585.4685000000002ms 404  (791a596a)
2020-04-30T01:09:19.1704407+01:00 80000022-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T01:09:19.2957721+01:00 80000022-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T01:09:19.3733678+01:00 80000022-0001-ff00-b63f-84710c7967bb [INF] Request finished in 203.6833ms 204  (791a596a)
2020-04-30T01:09:19.5846521+01:00 80000010-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 62 (ca22a1cb)
2020-04-30T01:09:19.5907797+01:00 80000010-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T01:09:21.0578095+01:00 80000010-0000-fd00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T01:09:21.0924003+01:00 80000010-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T01:09:21.6016135+01:00 80000010-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T01:09:23.1927838+01:00 80000010-0000-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T01:09:24.6816775+01:00 80000010-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T01:09:25.2632680+01:00 80000010-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T01:09:25.9059452+01:00 80000010-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T01:09:27.2289043+01:00 80000010-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T01:09:27.4951747+01:00 80000010-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T01:09:27.7078921+01:00 80000010-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 6043.399ms (afa2e885)
2020-04-30T01:09:27.7104374+01:00 80000010-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T01:09:27.7589480+01:00 80000010-0000-fd00-b63f-84710c7967bb [INF] Request finished in 8173.9339ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T01:09:42.3497181+01:00 80000024-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44355/swagger/index.html   (ca22a1cb)
2020-04-30T01:09:42.7505173+01:00 80000024-0001-ff00-b63f-84710c7967bb [INF] Request finished in 396.8833ms 200 text/html;charset=utf-8 (791a596a)
2020-04-30T01:09:43.8774782+01:00 80000026-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44355/swagger/v1/swagger.json   (ca22a1cb)
2020-04-30T01:09:44.6261323+01:00 80000026-0001-ff00-b63f-84710c7967bb [INF] Request finished in 750.1478000000001ms 200 application/json;charset=utf-8 (791a596a)
2020-04-30T01:10:07.5007528+01:00 80000028-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T01:10:07.5033401+01:00 80000028-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T01:10:07.5048754+01:00 80000028-0001-ff00-b63f-84710c7967bb [INF] Request finished in 10.361600000000001ms 204  (791a596a)
2020-04-30T01:10:07.5135045+01:00 80000012-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 62 (ca22a1cb)
2020-04-30T01:10:07.5141384+01:00 80000012-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T01:10:07.5376226+01:00 80000012-0000-fd00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T01:10:07.5380075+01:00 80000012-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T01:10:07.5389354+01:00 80000012-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T01:10:07.5844963+01:00 80000012-0000-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T01:10:07.5914603+01:00 80000012-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T01:10:07.5937901+01:00 80000012-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthFailedResponse"'. (8a1b66c8)
2020-04-30T01:10:07.5960797+01:00 80000012-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 56.8994ms (afa2e885)
2020-04-30T01:10:07.5961749+01:00 80000012-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T01:10:07.5964506+01:00 80000012-0000-fd00-b63f-84710c7967bb [INF] Request finished in 83.2591ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T01:56:17.0176564+01:00 80000014-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/burser/user/create   (ca22a1cb)
2020-04-30T01:56:17.1363382+01:00 80000014-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T01:56:17.1473007+01:00 80000014-0000-fd00-b63f-84710c7967bb [INF] Request finished in 141.3295ms 204  (791a596a)
2020-04-30T01:56:17.4843606+01:00 8000002a-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/burser/user/create application/json 55 (ca22a1cb)
2020-04-30T01:56:17.5198374+01:00 8000002a-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T01:56:17.5399328+01:00 8000002a-0001-ff00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T01:56:17.5456391+01:00 8000002a-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (500cc934)
2020-04-30T01:56:17.6902268+01:00 8000002a-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"BurserRegistration\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BurserRegistration(SchoolCloud.Contract.RequestObjs.BurserRegstrationReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T01:56:18.0849936+01:00 8000002a-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T01:56:19.1283595+01:00 8000002a-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T01:56:19.6854693+01:00 8000002a-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedUserName] = @__normalizedUserName_0) AND ([a].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([a].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2020-04-30T01:56:20.1662071+01:00 8000002a-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256), @p17='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [IsFirstTimeLogin], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [PlatformUserId], [SecurityStamp], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);" (65d11854)
2020-04-30T01:56:20.2385205+01:00 8000002a-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T01:56:20.2651876+01:00 8000002a-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T01:56:20.3003896+01:00 8000002a-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T01:56:20.3163192+01:00 8000002a-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T01:56:20.3192380+01:00 8000002a-0001-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)" in 2628.1337000000003ms (afa2e885)
2020-04-30T01:56:20.3194970+01:00 8000002a-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (99874f2b)
2020-04-30T01:56:20.3204030+01:00 8000002a-0001-ff00-b63f-84710c7967bb [INF] Request finished in 2837.1871ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T01:56:51.3406351+01:00 8000002c-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/burser/user/create   (ca22a1cb)
2020-04-30T01:56:51.3416134+01:00 8000002c-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T01:56:51.3448766+01:00 8000002c-0001-ff00-b63f-84710c7967bb [INF] Request finished in 3.3822ms 204  (791a596a)
2020-04-30T01:56:51.3490010+01:00 80000016-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/burser/user/create application/json 55 (ca22a1cb)
2020-04-30T01:56:51.3493546+01:00 80000016-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T01:56:51.3512608+01:00 80000016-0000-fd00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T01:56:51.3516237+01:00 80000016-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (500cc934)
2020-04-30T01:56:51.3523958+01:00 80000016-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"BurserRegistration\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BurserRegistration(SchoolCloud.Contract.RequestObjs.BurserRegstrationReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T01:56:51.3584642+01:00 80000016-0000-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T01:56:51.3614302+01:00 80000016-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T01:56:51.3669873+01:00 80000016-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthFailedResponse"'. (8a1b66c8)
2020-04-30T01:56:51.3677375+01:00 80000016-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)" in 15.1644ms (afa2e885)
2020-04-30T01:56:51.3678000+01:00 80000016-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (99874f2b)
2020-04-30T01:56:51.3680594+01:00 80000016-0000-fd00-b63f-84710c7967bb [INF] Request finished in 19.2622ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T01:57:05.6875355+01:00 80000018-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T01:57:05.6882315+01:00 80000018-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T01:57:05.6890899+01:00 80000018-0000-fd00-b63f-84710c7967bb [INF] Request finished in 1.9066ms 204  (791a596a)
2020-04-30T01:57:05.7220065+01:00 8000002e-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 64 (ca22a1cb)
2020-04-30T01:57:05.7227011+01:00 8000002e-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T01:57:05.7249221+01:00 8000002e-0001-ff00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T01:57:05.7253765+01:00 8000002e-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T01:57:05.7259816+01:00 8000002e-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T01:57:05.7395892+01:00 8000002e-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T01:57:05.7426449+01:00 8000002e-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T01:57:05.7795286+01:00 8000002e-0001-ff00-b63f-84710c7967bb [WRN] Invalid password for user "18d89472-5f9d-4d42-9785-588ba97dc725". (c2dce6c7)
2020-04-30T01:57:05.7805424+01:00 8000002e-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthFailedResponse"'. (8a1b66c8)
2020-04-30T01:57:05.7845571+01:00 8000002e-0001-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 58.2117ms (afa2e885)
2020-04-30T01:57:05.7846939+01:00 8000002e-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T01:57:05.7856540+01:00 8000002e-0001-ff00-b63f-84710c7967bb [INF] Request finished in 71.8986ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T01:57:18.9334964+01:00 8000001a-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T01:57:18.9340609+01:00 8000001a-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T01:57:18.9351768+01:00 8000001a-0000-fd00-b63f-84710c7967bb [INF] Request finished in 1.5707ms 204  (791a596a)
2020-04-30T01:57:18.9496713+01:00 80000030-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 61 (ca22a1cb)
2020-04-30T01:57:18.9499731+01:00 80000030-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T01:57:18.9513601+01:00 80000030-0001-ff00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T01:57:18.9516292+01:00 80000030-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T01:57:18.9522585+01:00 80000030-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T01:57:19.0587896+01:00 80000030-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T01:57:19.0613657+01:00 80000030-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T01:57:19.0793352+01:00 80000030-0001-ff00-b63f-84710c7967bb [WRN] Invalid password for user "18d89472-5f9d-4d42-9785-588ba97dc725". (c2dce6c7)
2020-04-30T01:57:19.0797443+01:00 80000030-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthFailedResponse"'. (8a1b66c8)
2020-04-30T01:57:19.0809009+01:00 80000030-0001-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 128.2527ms (afa2e885)
2020-04-30T01:57:19.0811794+01:00 80000030-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T01:57:19.0815769+01:00 80000030-0001-ff00-b63f-84710c7967bb [INF] Request finished in 137.0581ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T01:57:28.6491369+01:00 8000001c-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T01:57:28.6502958+01:00 8000001c-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T01:57:28.6521063+01:00 8000001c-0000-fd00-b63f-84710c7967bb [INF] Request finished in 3.2273ms 204  (791a596a)
2020-04-30T01:57:28.6937382+01:00 8000001e-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 61 (ca22a1cb)
2020-04-30T01:57:28.6944818+01:00 8000001e-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T01:57:28.7388037+01:00 8000001e-0000-fd00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T01:57:28.7403198+01:00 8000001e-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T01:57:28.7422450+01:00 8000001e-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T01:57:28.7738428+01:00 8000001e-0000-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T01:57:28.7930747+01:00 8000001e-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T01:57:28.9077171+01:00 8000001e-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.ConfirnmationResponse"'. (8a1b66c8)
2020-04-30T01:57:28.9201439+01:00 8000001e-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 177.4239ms (afa2e885)
2020-04-30T01:57:28.9205698+01:00 8000001e-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T01:57:28.9219143+01:00 8000001e-0000-fd00-b63f-84710c7967bb [INF] Request finished in 228.205ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T01:58:06.7816858+01:00 80000020-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/firstLogin/changePassword   (ca22a1cb)
2020-04-30T01:58:06.7832314+01:00 80000020-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T01:58:06.7837525+01:00 80000020-0000-fd00-b63f-84710c7967bb [INF] Request finished in 2.2042ms 204  (791a596a)
2020-04-30T01:58:06.8141998+01:00 80000022-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/firstLogin/changePassword application/json 90 (ca22a1cb)
2020-04-30T01:58:06.8146700+01:00 80000022-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T01:58:06.8239199+01:00 80000022-0000-fd00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T01:58:06.8244000+01:00 80000022-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.FirstTimeLogin (SchoolCloud)"' (500cc934)
2020-04-30T01:58:06.8539427+01:00 80000022-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"FirstTimeLogin\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FirstTimeLogin(SchoolCloud.Contract.RequestObjs.ChangePassword)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T01:58:06.9138741+01:00 80000022-0000-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T01:58:06.9223343+01:00 80000022-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T01:58:07.0439411+01:00 80000022-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedUserName] = @__normalizedUserName_0) AND ([a].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([a].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2020-04-30T01:58:07.0819071+01:00 80000022-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsFirstTimeLogin] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [PlatformUserId] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserType] = @p16
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
SELECT @@ROWCOUNT;" (65d11854)
2020-04-30T01:58:07.1914738+01:00 80000022-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedUserName] = @__normalizedUserName_0) AND ([a].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([a].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2020-04-30T01:58:07.2050875+01:00 80000022-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsFirstTimeLogin] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [PlatformUserId] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserType] = @p16
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
SELECT @@ROWCOUNT;" (65d11854)
2020-04-30T01:58:07.2230131+01:00 80000022-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T01:58:07.2387798+01:00 80000022-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T01:58:07.2598288+01:00 80000022-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T01:58:07.2935995+01:00 80000022-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T01:58:07.2948680+01:00 80000022-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.FirstTimeLogin (SchoolCloud)" in 440.6182ms (afa2e885)
2020-04-30T01:58:07.2950312+01:00 80000022-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.FirstTimeLogin (SchoolCloud)"' (99874f2b)
2020-04-30T01:58:07.2956438+01:00 80000022-0000-fd00-b63f-84710c7967bb [INF] Request finished in 481.3894ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T02:02:43.6157851+01:00 80000032-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T02:02:43.6163156+01:00 80000032-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T02:02:43.6168725+01:00 80000032-0001-ff00-b63f-84710c7967bb [INF] Request finished in 1.2157ms 204  (791a596a)
2020-04-30T02:02:43.6288059+01:00 80000024-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 61 (ca22a1cb)
2020-04-30T02:02:43.6291273+01:00 80000024-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T02:02:43.6303235+01:00 80000024-0000-fd00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T02:02:43.6306165+01:00 80000024-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T02:02:43.6317454+01:00 80000024-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T02:02:43.6540208+01:00 80000024-0000-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T02:02:44.4883385+01:00 80000024-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T02:02:44.5127813+01:00 80000024-0000-fd00-b63f-84710c7967bb [WRN] Invalid password for user "18d89472-5f9d-4d42-9785-588ba97dc725". (c2dce6c7)
2020-04-30T02:02:44.5133192+01:00 80000024-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthFailedResponse"'. (8a1b66c8)
2020-04-30T02:02:44.5141856+01:00 80000024-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 882.2367ms (afa2e885)
2020-04-30T02:02:44.5142891+01:00 80000024-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T02:02:44.5146320+01:00 80000024-0000-fd00-b63f-84710c7967bb [INF] Request finished in 885.8652000000001ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T02:03:20.8117697+01:00 80000034-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T02:03:20.8121704+01:00 80000034-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T02:03:20.8125856+01:00 80000034-0001-ff00-b63f-84710c7967bb [INF] Request finished in 0.8961ms 204  (791a596a)
2020-04-30T02:03:20.8275182+01:00 80000036-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 62 (ca22a1cb)
2020-04-30T02:03:20.8277561+01:00 80000036-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T02:03:20.8288594+01:00 80000036-0001-ff00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T02:03:20.8291020+01:00 80000036-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T02:03:20.8295279+01:00 80000036-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T02:03:20.8464916+01:00 80000036-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T02:03:20.8482145+01:00 80000036-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T02:03:20.8782867+01:00 80000036-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T02:03:20.8943827+01:00 80000036-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T02:03:20.9169819+01:00 80000036-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T02:03:20.9334815+01:00 80000036-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T02:03:20.9341692+01:00 80000036-0001-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 104.50120000000001ms (afa2e885)
2020-04-30T02:03:20.9342727+01:00 80000036-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T02:03:20.9345676+01:00 80000036-0001-ff00-b63f-84710c7967bb [INF] Request finished in 107.095ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T02:03:58.5435273+01:00 80000038-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T02:03:58.5444467+01:00 80000038-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T02:03:58.5453098+01:00 80000038-0001-ff00-b63f-84710c7967bb [INF] Request finished in 1.9784000000000002ms 204  (791a596a)
2020-04-30T02:03:58.6338713+01:00 8000003a-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 62 (ca22a1cb)
2020-04-30T02:03:58.6343705+01:00 8000003a-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T02:03:58.6366932+01:00 8000003a-0001-ff00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T02:03:58.6371989+01:00 8000003a-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T02:03:58.6380219+01:00 8000003a-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T02:03:58.6669227+01:00 8000003a-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T02:03:58.6713177+01:00 8000003a-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T02:03:58.7615362+01:00 8000003a-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T02:03:58.7806516+01:00 8000003a-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T02:03:58.8201370+01:00 8000003a-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T02:03:58.9026862+01:00 8000003a-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T02:03:58.9046441+01:00 8000003a-0001-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 266.2625ms (afa2e885)
2020-04-30T02:03:58.9048745+01:00 8000003a-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T02:03:58.9055281+01:00 8000003a-0001-ff00-b63f-84710c7967bb [INF] Request finished in 271.7697ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T02:04:01.3847143+01:00 80000026-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 62 (ca22a1cb)
2020-04-30T02:04:01.3854980+01:00 80000026-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T02:04:01.3875722+01:00 80000026-0000-fd00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T02:04:01.3881170+01:00 80000026-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T02:04:01.3888919+01:00 80000026-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T02:04:01.4440209+01:00 80000026-0000-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T02:04:01.4612837+01:00 80000026-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T02:04:01.5503939+01:00 80000026-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T02:04:01.5807996+01:00 80000026-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T02:04:01.5934905+01:00 80000026-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T02:04:01.7969435+01:00 80000026-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T02:04:01.7977604+01:00 80000026-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 408.6641ms (afa2e885)
2020-04-30T02:04:01.7978481+01:00 80000026-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T02:04:01.7981448+01:00 80000026-0000-fd00-b63f-84710c7967bb [INF] Request finished in 413.73510000000005ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T02:05:17.2365919+01:00 8000003c-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/burser/user/create   (ca22a1cb)
2020-04-30T02:05:17.2369824+01:00 8000003c-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T02:05:17.2374022+01:00 8000003c-0001-ff00-b63f-84710c7967bb [INF] Request finished in 0.9834ms 204  (791a596a)
2020-04-30T02:05:17.2574837+01:00 80000028-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/burser/user/create application/json 55 (ca22a1cb)
2020-04-30T02:05:17.2580109+01:00 80000028-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T02:05:17.2601078+01:00 80000028-0000-fd00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T02:05:17.2609666+01:00 80000028-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (500cc934)
2020-04-30T02:05:17.2634727+01:00 80000028-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"BurserRegistration\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BurserRegistration(SchoolCloud.Contract.RequestObjs.BurserRegstrationReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T02:05:17.2711650+01:00 80000028-0000-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T02:05:17.2727717+01:00 80000028-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T02:05:17.2899869+01:00 80000028-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthFailedResponse"'. (8a1b66c8)
2020-04-30T02:05:17.2906191+01:00 80000028-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)" in 26.977800000000002ms (afa2e885)
2020-04-30T02:05:17.2906960+01:00 80000028-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (99874f2b)
2020-04-30T02:05:17.2908705+01:00 80000028-0000-fd00-b63f-84710c7967bb [INF] Request finished in 33.4544ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T02:05:18.9390535+01:00 8000002a-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/burser/user/create application/json 55 (ca22a1cb)
2020-04-30T02:05:18.9393894+01:00 8000002a-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T02:05:18.9401517+01:00 8000002a-0000-fd00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T02:05:18.9403957+01:00 8000002a-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (500cc934)
2020-04-30T02:05:18.9407264+01:00 8000002a-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"BurserRegistration\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BurserRegistration(SchoolCloud.Contract.RequestObjs.BurserRegstrationReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T02:05:18.9540061+01:00 8000002a-0000-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T02:05:18.9551911+01:00 8000002a-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T02:05:18.9595277+01:00 8000002a-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthFailedResponse"'. (8a1b66c8)
2020-04-30T02:05:18.9600964+01:00 8000002a-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)" in 19.251900000000003ms (afa2e885)
2020-04-30T02:05:18.9601981+01:00 8000002a-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (99874f2b)
2020-04-30T02:05:18.9603693+01:00 8000002a-0000-fd00-b63f-84710c7967bb [INF] Request finished in 21.431ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T08:33:41.6830546+01:00  [INF] User profile is available. Using '"C:\Users\flave\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2020-04-30T08:33:46.2499537+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T08:33:51.1423720+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-30T08:33:53.1590340+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T08:33:53.6982349+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedUserName] = @__normalizedUserName_0) AND ([a].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([a].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2020-04-30T08:33:54.0565392+01:00  [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256), @p17='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [IsFirstTimeLogin], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [PlatformUserId], [SecurityStamp], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);" (65d11854)
2020-04-30T08:33:54.1668663+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedRoleName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedRoleName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedRoleName_0 IS NULL)" (65d11854)
2020-04-30T08:33:54.2164564+01:00  [INF] Executing DbCommand [Parameters=["@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE (([a].[UserId] = @__p_0) AND @__p_0 IS NOT NULL) AND (([a].[RoleId] = @__p_1) AND @__p_1 IS NOT NULL)" (65d11854)
2020-04-30T08:33:54.3120650+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedRoleName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedRoleName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedRoleName_0 IS NULL)" (65d11854)
2020-04-30T08:33:54.3447157+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedUserName] = @__normalizedUserName_0) AND ([a].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([a].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2020-04-30T08:33:54.3760340+01:00  [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([UserId], [RoleId])
VALUES (@p0, @p1);" (65d11854)
2020-04-30T08:33:54.4729646+01:00  [INF] Executing DbCommand [Parameters=["@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsFirstTimeLogin] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [PlatformUserId] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserType] = @p16
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
SELECT @@ROWCOUNT;" (65d11854)
2020-04-30T08:33:55.4159868+01:00 8000001a-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T08:33:55.7165898+01:00 8000001a-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T08:33:55.8340195+01:00 8000001c-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 61 (ca22a1cb)
2020-04-30T08:33:55.8340778+01:00 8000001a-0001-fb00-b63f-84710c7967bb [INF] Request finished in 422.4495ms 204  (791a596a)
2020-04-30T08:33:55.8422418+01:00 8000001c-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T08:33:59.6037160+01:00 8000001c-0001-fb00-b63f-84710c7967bb [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2020-04-30T08:33:59.6185567+01:00 8000001c-0001-fb00-b63f-84710c7967bb [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'." (48071232)
2020-04-30T08:33:59.6243027+01:00 8000001c-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T08:33:59.8581063+01:00 8000001c-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T08:34:00.1030849+01:00 8000001c-0001-fb00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T08:34:00.1096888+01:00 8000001c-0001-fb00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T08:34:00.1474043+01:00 8000001c-0001-fb00-b63f-84710c7967bb [WRN] Invalid password for user "18d89472-5f9d-4d42-9785-588ba97dc725". (c2dce6c7)
2020-04-30T08:34:00.1843818+01:00 8000001c-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthFailedResponse"'. (8a1b66c8)
2020-04-30T08:34:00.3120510+01:00 8000001c-0001-fb00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 412.9513ms (afa2e885)
2020-04-30T08:34:00.3409257+01:00 8000001c-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T08:34:00.3608042+01:00 8000001c-0001-fb00-b63f-84710c7967bb [INF] Request finished in 4518.9566ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T08:36:04.2173022+01:00 8000001e-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T08:36:04.2241939+01:00 8000001e-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T08:36:04.2425418+01:00 8000001e-0001-fb00-b63f-84710c7967bb [INF] Request finished in 24.9312ms 204  (791a596a)
2020-04-30T08:36:04.2426678+01:00 80000020-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 61 (ca22a1cb)
2020-04-30T08:36:04.2472171+01:00 80000020-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T08:36:04.2574697+01:00 80000020-0001-fb00-b63f-84710c7967bb [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2020-04-30T08:36:04.2610996+01:00 80000020-0001-fb00-b63f-84710c7967bb [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'." (48071232)
2020-04-30T08:36:04.2679928+01:00 80000020-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T08:36:04.2721816+01:00 80000020-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T08:36:04.3332362+01:00 80000020-0001-fb00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T08:36:04.3441647+01:00 80000020-0001-fb00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T08:36:04.3747473+01:00 80000020-0001-fb00-b63f-84710c7967bb [WRN] Invalid password for user "18d89472-5f9d-4d42-9785-588ba97dc725". (c2dce6c7)
2020-04-30T08:36:04.3790984+01:00 80000020-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthFailedResponse"'. (8a1b66c8)
2020-04-30T08:36:04.3890990+01:00 80000020-0001-fb00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 107.5704ms (afa2e885)
2020-04-30T08:36:04.3918122+01:00 80000020-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T08:36:04.3973035+01:00 80000020-0001-fb00-b63f-84710c7967bb [INF] Request finished in 155.35930000000002ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T08:36:14.6391411+01:00 80000063-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T08:36:14.6442311+01:00 80000063-0000-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T08:36:14.7275994+01:00 80000063-0000-fe00-b63f-84710c7967bb [INF] Request finished in 33.2729ms 204  (791a596a)
2020-04-30T08:36:14.7338796+01:00 80000022-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 61 (ca22a1cb)
2020-04-30T08:36:14.7399261+01:00 80000022-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T08:36:14.7696027+01:00 80000022-0001-fb00-b63f-84710c7967bb [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2020-04-30T08:36:14.7738880+01:00 80000022-0001-fb00-b63f-84710c7967bb [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'." (48071232)
2020-04-30T08:36:14.7766176+01:00 80000022-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T08:36:14.7842381+01:00 80000022-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T08:36:14.8544102+01:00 80000022-0001-fb00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T08:36:14.8596449+01:00 80000022-0001-fb00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T08:36:14.8793937+01:00 80000022-0001-fb00-b63f-84710c7967bb [WRN] Invalid password for user "18d89472-5f9d-4d42-9785-588ba97dc725". (c2dce6c7)
2020-04-30T08:36:14.8873342+01:00 80000022-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthFailedResponse"'. (8a1b66c8)
2020-04-30T08:36:14.8921668+01:00 80000022-0001-fb00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 104.55300000000001ms (afa2e885)
2020-04-30T08:36:14.8969556+01:00 80000022-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T08:36:14.9043260+01:00 80000022-0001-fb00-b63f-84710c7967bb [INF] Request finished in 243.1254ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T08:43:54.4367167+01:00 80000024-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T08:43:54.4413791+01:00 80000024-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T08:43:54.4579262+01:00 80000024-0001-fb00-b63f-84710c7967bb [INF] Request finished in 28.6904ms 204  (791a596a)
2020-04-30T08:43:54.4620100+01:00 80000026-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 61 (ca22a1cb)
2020-04-30T08:43:54.4654282+01:00 80000026-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T08:43:54.4708490+01:00 80000026-0001-fb00-b63f-84710c7967bb [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2020-04-30T08:43:54.4749147+01:00 80000026-0001-fb00-b63f-84710c7967bb [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'." (48071232)
2020-04-30T08:43:54.4788301+01:00 80000026-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T08:43:54.4817943+01:00 80000026-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T08:43:54.4935587+01:00 80000026-0001-fb00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T08:43:55.3463941+01:00 80000026-0001-fb00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T08:43:55.3794320+01:00 80000026-0001-fb00-b63f-84710c7967bb [WRN] Invalid password for user "18d89472-5f9d-4d42-9785-588ba97dc725". (c2dce6c7)
2020-04-30T08:43:55.4126517+01:00 80000026-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthFailedResponse"'. (8a1b66c8)
2020-04-30T08:43:55.4232271+01:00 80000026-0001-fb00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 932.849ms (afa2e885)
2020-04-30T08:43:55.4312035+01:00 80000026-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T08:43:55.4362484+01:00 80000026-0001-fb00-b63f-84710c7967bb [INF] Request finished in 973.1779ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T08:56:21.0431881+01:00 80000065-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T08:56:21.0792975+01:00 80000065-0000-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T08:56:21.2742944+01:00 80000065-0000-fe00-b63f-84710c7967bb [INF] Request finished in 56.2458ms 204  (791a596a)
2020-04-30T08:56:21.3389845+01:00 80000028-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 61 (ca22a1cb)
2020-04-30T08:56:21.3942400+01:00 80000028-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T08:56:21.4447332+01:00 80000028-0001-fb00-b63f-84710c7967bb [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2020-04-30T08:56:21.5898173+01:00 80000028-0001-fb00-b63f-84710c7967bb [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'." (48071232)
2020-04-30T08:56:21.6294073+01:00 80000028-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T08:56:21.8809556+01:00 80000028-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T08:56:21.8949220+01:00 80000028-0001-fb00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T08:56:22.7636244+01:00 80000028-0001-fb00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T08:56:22.7934339+01:00 80000028-0001-fb00-b63f-84710c7967bb [WRN] Invalid password for user "18d89472-5f9d-4d42-9785-588ba97dc725". (c2dce6c7)
2020-04-30T08:56:22.8115682+01:00 80000028-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthFailedResponse"'. (8a1b66c8)
2020-04-30T08:56:22.8275177+01:00 80000028-0001-fb00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 930.7856ms (afa2e885)
2020-04-30T08:56:23.0149893+01:00 80000028-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T08:56:23.0294134+01:00 80000028-0001-fb00-b63f-84710c7967bb [INF] Request finished in 1744.1228ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T08:56:41.3252299+01:00 80000067-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T08:56:41.3386291+01:00 80000067-0000-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T08:56:41.3497950+01:00 80000067-0000-fe00-b63f-84710c7967bb [INF] Request finished in 20.0049ms 204  (791a596a)
2020-04-30T08:56:41.3750561+01:00 80000069-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 62 (ca22a1cb)
2020-04-30T08:56:41.4095943+01:00 80000069-0000-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T08:56:41.4234305+01:00 80000069-0000-fe00-b63f-84710c7967bb [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2020-04-30T08:56:41.4291546+01:00 80000069-0000-fe00-b63f-84710c7967bb [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'." (48071232)
2020-04-30T08:56:41.4378471+01:00 80000069-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T08:56:41.4608895+01:00 80000069-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T08:56:41.4840662+01:00 80000069-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T08:56:41.4935504+01:00 80000069-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T08:56:41.7240829+01:00 80000069-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T08:56:44.0352588+01:00 80000069-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T08:56:45.3591136+01:00 80000069-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T08:56:45.4274966+01:00 80000069-0000-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T08:56:45.4534412+01:00 80000069-0000-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 3977.5468ms (afa2e885)
2020-04-30T08:56:45.4599364+01:00 80000069-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T08:56:45.4747659+01:00 80000069-0000-fe00-b63f-84710c7967bb [INF] Request finished in 4121.1711000000005ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T09:01:37.7489815+01:00 8000002a-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T09:01:37.8200680+01:00 8000002a-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T09:01:37.8489315+01:00 8000002a-0001-fb00-b63f-84710c7967bb [INF] Request finished in 80.4638ms 204  (791a596a)
2020-04-30T09:01:37.8518803+01:00 8000002c-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 60 (ca22a1cb)
2020-04-30T09:01:37.8574328+01:00 8000002c-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T09:01:37.9022556+01:00 8000002c-0001-fb00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T09:01:37.9258540+01:00 8000002c-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T09:01:37.9337744+01:00 8000002c-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T09:01:37.9506136+01:00 8000002c-0001-fb00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T09:01:37.9729857+01:00 8000002c-0001-fb00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T09:01:38.0032034+01:00 8000002c-0001-fb00-b63f-84710c7967bb [WRN] Invalid password for user "2e33fdd2-e1d6-4bf2-9791-78bb2d23c381". (c2dce6c7)
2020-04-30T09:01:38.0095513+01:00 8000002c-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthFailedResponse"'. (8a1b66c8)
2020-04-30T09:01:38.0211977+01:00 8000002c-0001-fb00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 83.6598ms (afa2e885)
2020-04-30T09:01:38.0251397+01:00 8000002c-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T09:01:38.0497356+01:00 8000002c-0001-fb00-b63f-84710c7967bb [INF] Request finished in 183.448ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T09:01:44.2856865+01:00 8000002e-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T09:01:44.3240902+01:00 8000002e-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T09:01:44.3555251+01:00 8000002e-0001-fb00-b63f-84710c7967bb [INF] Request finished in 41.3664ms 204  (791a596a)
2020-04-30T09:01:44.3568500+01:00 8000006b-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 59 (ca22a1cb)
2020-04-30T09:01:44.3641323+01:00 8000006b-0000-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T09:01:44.3753668+01:00 8000006b-0000-fe00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T09:01:44.3920782+01:00 8000006b-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T09:01:44.4016207+01:00 8000006b-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T09:01:44.4375009+01:00 8000006b-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T09:01:44.4584211+01:00 8000006b-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T09:01:44.4895029+01:00 8000006b-0000-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.ConfirnmationResponse"'. (8a1b66c8)
2020-04-30T09:01:44.5330970+01:00 8000006b-0000-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 124.33590000000001ms (afa2e885)
2020-04-30T09:01:44.5390255+01:00 8000006b-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T09:01:44.5415773+01:00 8000006b-0000-fe00-b63f-84710c7967bb [INF] Request finished in 186.4863ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T09:02:39.3122296+01:00 80000030-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/firstLogin/changePassword   (ca22a1cb)
2020-04-30T09:02:39.3301604+01:00 80000030-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T09:02:39.3394823+01:00 80000030-0001-fb00-b63f-84710c7967bb [INF] Request finished in 143.0052ms 204  (791a596a)
2020-04-30T09:02:39.3423462+01:00 8000006d-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/firstLogin/changePassword application/json 88 (ca22a1cb)
2020-04-30T09:02:39.3459878+01:00 8000006d-0000-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T09:02:39.3583470+01:00 8000006d-0000-fe00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T09:02:39.3614610+01:00 8000006d-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.FirstTimeLogin (SchoolCloud)"' (500cc934)
2020-04-30T09:02:39.3903170+01:00 8000006d-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"FirstTimeLogin\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FirstTimeLogin(SchoolCloud.Contract.RequestObjs.ChangePassword)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T09:02:39.4120523+01:00 8000006d-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T09:02:39.4221518+01:00 8000006d-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T09:02:40.3223786+01:00 8000006d-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedUserName] = @__normalizedUserName_0) AND ([a].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([a].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2020-04-30T09:02:40.3565604+01:00 8000006d-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsFirstTimeLogin] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [PlatformUserId] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserType] = @p16
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
SELECT @@ROWCOUNT;" (65d11854)
2020-04-30T09:03:10.2676083+01:00 8000006d-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedUserName] = @__normalizedUserName_0) AND ([a].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([a].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2020-04-30T09:03:10.2969048+01:00 8000006d-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsFirstTimeLogin] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [PlatformUserId] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserType] = @p16
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
SELECT @@ROWCOUNT;" (65d11854)
2020-04-30T09:03:10.3225731+01:00 8000006d-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T09:03:10.3299160+01:00 8000006d-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T09:03:10.3458250+01:00 8000006d-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-30T09:03:10.3792612+01:00 8000006d-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE ([a].[RoleId] = @__role_Id_0) AND @__role_Id_0 IS NOT NULL" (65d11854)
2020-04-30T09:03:11.1868110+01:00 8000006d-0000-fe00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T09:03:14.6124206+01:00 8000006d-0000-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T09:03:14.6199931+01:00 8000006d-0000-fe00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.FirstTimeLogin (SchoolCloud)" in 35224.612ms (afa2e885)
2020-04-30T09:03:14.6534186+01:00 8000006d-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.FirstTimeLogin (SchoolCloud)"' (99874f2b)
2020-04-30T09:03:14.7616688+01:00 8000006d-0000-fe00-b63f-84710c7967bb [INF] Request finished in 35313.939ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T09:35:37.6226871+01:00  [INF] User profile is available. Using '"C:\Users\flave\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2020-04-30T09:35:38.8301838+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T09:35:42.6059595+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-30T09:35:42.9348661+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T09:35:43.2323998+01:00 8000002c-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/firstLogin/changePassword   (ca22a1cb)
2020-04-30T09:35:43.3697738+01:00 8000002c-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T09:35:43.4328848+01:00 8000002c-0000-fd00-b63f-84710c7967bb [INF] Request finished in 205.67020000000002ms 204  (791a596a)
2020-04-30T09:35:43.4450766+01:00 8000002e-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/firstLogin/changePassword application/json 66 (ca22a1cb)
2020-04-30T09:35:43.4534476+01:00 8000002e-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T09:35:43.7941575+01:00 8000002e-0000-fd00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T09:35:43.7991250+01:00 8000002e-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.FirstTimeLogin (SchoolCloud)"' (500cc934)
2020-04-30T09:35:43.8628578+01:00 8000002e-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"FirstTimeLogin\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FirstTimeLogin(SchoolCloud.Contract.RequestObjs.ChangePassword)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T09:35:44.0587248+01:00 8000002e-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.ErrorResponses.ErrorResponse"'. (8a1b66c8)
2020-04-30T09:35:44.0920047+01:00 8000002e-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.FirstTimeLogin (SchoolCloud)" in 211.97650000000002ms (afa2e885)
2020-04-30T09:35:44.0921965+01:00 8000002e-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.FirstTimeLogin (SchoolCloud)"' (99874f2b)
2020-04-30T09:35:44.0933656+01:00 8000002e-0000-fd00-b63f-84710c7967bb [INF] Request finished in 648.5996ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T09:37:55.4823513+01:00  [INF] User profile is available. Using '"C:\Users\flave\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2020-04-30T09:38:00.4489169+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T09:38:06.2532716+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-30T09:38:09.2555630+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T09:38:10.0212710+01:00 80000030-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T09:38:10.4471064+01:00 80000030-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T09:38:10.5234724+01:00 80000040-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 62 (ca22a1cb)
2020-04-30T09:38:10.5256809+01:00 80000030-0000-fd00-b63f-84710c7967bb [INF] Request finished in 593.3334ms 204  (791a596a)
2020-04-30T09:38:10.5627428+01:00 80000040-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T09:38:11.7100269+01:00 80000040-0001-ff00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T09:38:11.7337933+01:00 80000040-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T09:38:11.9310491+01:00 80000040-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T09:38:13.8091689+01:00 80000040-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T09:38:13.8745803+01:00 80000040-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T09:38:17.2603224+01:00 80000040-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T09:38:17.5489891+01:00 80000040-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T09:38:18.3460666+01:00 80000040-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T09:38:18.5174166+01:00 80000040-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T09:38:18.5886510+01:00 80000040-0001-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 6623.4462ms (afa2e885)
2020-04-30T09:38:18.5979149+01:00 80000040-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T09:38:18.6200761+01:00 80000040-0001-ff00-b63f-84710c7967bb [INF] Request finished in 8103.6466ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T09:40:00.7756072+01:00 80000032-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T09:40:00.8590683+01:00 80000032-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T09:40:01.6924857+01:00 80000032-0000-fd00-b63f-84710c7967bb [INF] Request finished in 118.2227ms 204  (791a596a)
2020-04-30T09:40:01.7060867+01:00 80000034-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 62 (ca22a1cb)
2020-04-30T09:40:01.7136936+01:00 80000034-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T09:40:01.7269090+01:00 80000034-0000-fd00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T09:40:01.7314062+01:00 80000034-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T09:40:01.7423874+01:00 80000034-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T09:40:01.8290880+01:00 80000034-0000-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T09:40:01.8593482+01:00 80000034-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T09:40:01.9229420+01:00 80000034-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T09:40:01.9420368+01:00 80000034-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T09:40:01.9632132+01:00 80000034-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T09:40:02.0479824+01:00 80000034-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T09:40:02.1295985+01:00 80000034-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 307.01370000000003ms (afa2e885)
2020-04-30T09:40:02.1341101+01:00 80000034-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T09:40:02.1435818+01:00 80000034-0000-fd00-b63f-84710c7967bb [INF] Request finished in 441.37350000000004ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T09:42:05.3906474+01:00 80000036-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T09:42:05.4070266+01:00 80000036-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T09:42:05.4192072+01:00 80000036-0000-fd00-b63f-84710c7967bb [INF] Request finished in 64.7265ms 204  (791a596a)
2020-04-30T09:42:05.4204668+01:00 80000038-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 59 (ca22a1cb)
2020-04-30T09:42:05.4244200+01:00 80000038-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T09:42:05.4418843+01:00 80000038-0000-fd00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T09:42:05.4533786+01:00 80000038-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T09:42:05.4704936+01:00 80000038-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T09:42:05.5244582+01:00 80000038-0000-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T09:42:05.5345619+01:00 80000038-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T09:42:05.5756339+01:00 80000038-0000-fd00-b63f-84710c7967bb [WRN] Invalid password for user "2e33fdd2-e1d6-4bf2-9791-78bb2d23c381". (c2dce6c7)
2020-04-30T09:42:05.5919333+01:00 80000038-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthFailedResponse"'. (8a1b66c8)
2020-04-30T09:42:05.6045039+01:00 80000038-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 127.4363ms (afa2e885)
2020-04-30T09:42:05.8240711+01:00 80000038-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T09:42:05.8293968+01:00 80000038-0000-fd00-b63f-84710c7967bb [INF] Request finished in 409.3704ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T09:42:21.7153409+01:00 8000003a-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T09:42:21.7202822+01:00 8000003a-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T09:42:21.7267900+01:00 8000003a-0000-fd00-b63f-84710c7967bb [INF] Request finished in 48.9985ms 204  (791a596a)
2020-04-30T09:42:21.7390103+01:00 8000003c-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 57 (ca22a1cb)
2020-04-30T09:42:21.7504515+01:00 8000003c-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T09:42:21.7691254+01:00 8000003c-0000-fd00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T09:42:21.8380627+01:00 8000003c-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T09:42:21.8478366+01:00 8000003c-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T09:42:21.8659101+01:00 8000003c-0000-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T09:42:21.8719538+01:00 8000003c-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T09:42:21.9055165+01:00 8000003c-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T09:42:21.9551519+01:00 8000003c-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T09:42:22.0164038+01:00 8000003c-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-30T09:42:22.0561450+01:00 8000003c-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE ([a].[RoleId] = @__role_Id_0) AND @__role_Id_0 IS NOT NULL" (65d11854)
2020-04-30T09:42:22.0763220+01:00 8000003c-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T09:42:22.3033454+01:00 8000003c-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T09:42:22.3155890+01:00 8000003c-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 461.0738ms (afa2e885)
2020-04-30T09:42:22.3253074+01:00 8000003c-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T09:42:22.3326554+01:00 8000003c-0000-fd00-b63f-84710c7967bb [INF] Request finished in 593.7271000000001ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T09:43:01.9685930+01:00 8000003e-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/firstLogin/changePassword   (ca22a1cb)
2020-04-30T09:43:02.0369872+01:00 8000003e-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T09:43:02.1218269+01:00 8000003e-0000-fd00-b63f-84710c7967bb [INF] Request finished in 559.475ms 204  (791a596a)
2020-04-30T09:43:02.1527268+01:00 80000040-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/firstLogin/changePassword application/json 66 (ca22a1cb)
2020-04-30T09:43:02.5785794+01:00 80000040-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T09:43:03.0244712+01:00 80000040-0000-fd00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T09:43:03.0966110+01:00 80000040-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.FirstTimeLogin (SchoolCloud)"' (500cc934)
2020-04-30T09:43:03.1314375+01:00 80000040-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"FirstTimeLogin\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FirstTimeLogin(SchoolCloud.Contract.RequestObjs.ChangePassword)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T09:43:03.3248707+01:00 80000040-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.ErrorResponses.ErrorResponse"'. (8a1b66c8)
2020-04-30T09:43:03.3397077+01:00 80000040-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.FirstTimeLogin (SchoolCloud)" in 203.1151ms (afa2e885)
2020-04-30T09:43:03.3550880+01:00 80000040-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.FirstTimeLogin (SchoolCloud)"' (99874f2b)
2020-04-30T09:43:03.3771261+01:00 80000040-0000-fd00-b63f-84710c7967bb [INF] Request finished in 1215.7384ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T10:10:25.4075892+01:00  [INF] User profile is available. Using '"C:\Users\flave\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2020-04-30T10:10:31.8834566+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T10:10:37.8875106+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-30T10:10:38.5538115+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T10:10:39.0751917+01:00 80000042-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/firstLogin/changePassword   (ca22a1cb)
2020-04-30T10:10:40.2459231+01:00 80000042-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T10:10:41.3644561+01:00 80000042-0000-fd00-b63f-84710c7967bb [INF] Request finished in 1546.5242ms 204  (791a596a)
2020-04-30T10:10:44.3116153+01:00 80000044-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T10:10:44.3413399+01:00 80000044-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T10:10:44.3589727+01:00 80000044-0000-fd00-b63f-84710c7967bb [INF] Request finished in 49.176700000000004ms 204  (791a596a)
2020-04-30T10:10:44.3760479+01:00 80000042-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 62 (ca22a1cb)
2020-04-30T10:10:44.3877536+01:00 80000042-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T10:10:45.7767828+01:00 80000042-0001-ff00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T10:10:45.7931107+01:00 80000042-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T10:10:45.9881192+01:00 80000042-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T10:10:49.3756794+01:00 80000042-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T10:10:49.5680988+01:00 80000042-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T10:10:49.6119472+01:00 80000042-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthFailedResponse"'. (8a1b66c8)
2020-04-30T10:10:49.9420238+01:00 80000042-0001-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 3654.3162ms (afa2e885)
2020-04-30T10:10:49.9485419+01:00 80000042-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T10:10:49.9601281+01:00 80000042-0001-ff00-b63f-84710c7967bb [INF] Request finished in 5591.780400000001ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T10:11:57.2851501+01:00 80000046-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T10:11:57.3120678+01:00 80000046-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T10:11:57.3451924+01:00 80000046-0000-fd00-b63f-84710c7967bb [INF] Request finished in 78.2418ms 204  (791a596a)
2020-04-30T10:11:57.3631927+01:00 80000044-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 57 (ca22a1cb)
2020-04-30T10:11:57.3682040+01:00 80000044-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T10:11:57.4009736+01:00 80000044-0001-ff00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T10:11:57.4150851+01:00 80000044-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T10:11:57.4292138+01:00 80000044-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T10:11:57.4861477+01:00 80000044-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T10:11:57.5019676+01:00 80000044-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T10:11:57.7359691+01:00 80000044-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T10:11:58.2841508+01:00 80000044-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T10:11:58.3034551+01:00 80000044-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-30T10:11:58.3327123+01:00 80000044-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE ([a].[RoleId] = @__role_Id_0) AND @__role_Id_0 IS NOT NULL" (65d11854)
2020-04-30T10:11:59.1832552+01:00 80000044-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T10:11:59.3750636+01:00 80000044-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T10:12:02.2167531+01:00 80000044-0001-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 2298.0273ms (afa2e885)
2020-04-30T10:12:02.9090890+01:00 80000044-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T10:12:02.9375406+01:00 80000044-0001-ff00-b63f-84710c7967bb [INF] Request finished in 5577.3526ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T10:12:18.6529161+01:00 80000048-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T10:12:18.7717201+01:00 80000048-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T10:12:19.0432394+01:00 80000048-0000-fd00-b63f-84710c7967bb [INF] Request finished in 137.0324ms 204  (791a596a)
2020-04-30T10:12:19.1058876+01:00 80000046-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 57 (ca22a1cb)
2020-04-30T10:12:19.2212632+01:00 80000046-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T10:12:19.3375081+01:00 80000046-0001-ff00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T10:12:19.3889153+01:00 80000046-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T10:12:20.2587125+01:00 80000046-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T10:12:20.4094617+01:00 80000046-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T10:12:20.4591924+01:00 80000046-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T10:12:20.5620566+01:00 80000046-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T10:12:20.6994143+01:00 80000046-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T10:12:20.7353878+01:00 80000046-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-30T10:12:20.7799112+01:00 80000046-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE ([a].[RoleId] = @__role_Id_0) AND @__role_Id_0 IS NOT NULL" (65d11854)
2020-04-30T10:12:20.8642275+01:00 80000046-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T10:12:20.9012045+01:00 80000046-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T10:12:20.9664494+01:00 80000046-0001-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 647.8583ms (afa2e885)
2020-04-30T10:12:20.9869082+01:00 80000046-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T10:12:21.0025462+01:00 80000046-0001-ff00-b63f-84710c7967bb [INF] Request finished in 2021.5402000000001ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T10:15:13.6024229+01:00 80000048-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T10:15:13.6343308+01:00 80000048-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T10:15:13.6400376+01:00 80000048-0001-ff00-b63f-84710c7967bb [INF] Request finished in 36.595400000000005ms 204  (791a596a)
2020-04-30T10:15:13.6483891+01:00 8000004a-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 62 (ca22a1cb)
2020-04-30T10:15:13.6512489+01:00 8000004a-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T10:15:13.6700455+01:00 8000004a-0001-ff00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T10:15:13.8212608+01:00 8000004a-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T10:15:16.1800904+01:00 8000004a-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T10:15:16.6997403+01:00 8000004a-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T10:15:16.7177546+01:00 8000004a-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T10:15:16.7515669+01:00 8000004a-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthFailedResponse"'. (8a1b66c8)
2020-04-30T10:15:16.8147759+01:00 8000004a-0001-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 572.1445ms (afa2e885)
2020-04-30T10:15:16.8515356+01:00 8000004a-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T10:15:16.8604870+01:00 8000004a-0001-ff00-b63f-84710c7967bb [INF] Request finished in 3209.5115ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T10:15:28.6868511+01:00 8000004c-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T10:15:28.7048855+01:00 8000004c-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T10:15:28.7142180+01:00 8000004c-0001-ff00-b63f-84710c7967bb [INF] Request finished in 64.8963ms 204  (791a596a)
2020-04-30T10:15:28.7196926+01:00 8000004e-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 57 (ca22a1cb)
2020-04-30T10:15:28.7268059+01:00 8000004e-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T10:15:28.7362784+01:00 8000004e-0001-ff00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T10:15:28.7414767+01:00 8000004e-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T10:15:28.7464073+01:00 8000004e-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T10:15:28.7724629+01:00 8000004e-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T10:15:28.7801193+01:00 8000004e-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T10:15:28.8030268+01:00 8000004e-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T10:15:28.8748364+01:00 8000004e-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T10:15:28.8980178+01:00 8000004e-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-30T10:15:28.9205573+01:00 8000004e-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE ([a].[RoleId] = @__role_Id_0) AND @__role_Id_0 IS NOT NULL" (65d11854)
2020-04-30T10:15:28.9301152+01:00 8000004e-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T10:15:28.9449992+01:00 8000004e-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T10:15:28.9720895+01:00 8000004e-0001-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 199.88410000000002ms (afa2e885)
2020-04-30T10:15:28.9780749+01:00 8000004e-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T10:15:28.9812895+01:00 8000004e-0001-ff00-b63f-84710c7967bb [INF] Request finished in 267.0085ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T10:16:44.3915673+01:00 8000004a-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T10:16:44.4002318+01:00 8000004a-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T10:16:44.4070420+01:00 8000004a-0000-fd00-b63f-84710c7967bb [INF] Request finished in 13.762500000000001ms 204  (791a596a)
2020-04-30T10:16:44.4173085+01:00 80000050-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 57 (ca22a1cb)
2020-04-30T10:16:44.4304109+01:00 80000050-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T10:16:44.4346030+01:00 80000050-0001-ff00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T10:16:44.4382362+01:00 80000050-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T10:16:44.4616523+01:00 80000050-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T10:16:44.4718740+01:00 80000050-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T10:16:44.4884295+01:00 80000050-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T10:16:44.5664736+01:00 80000050-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T10:16:44.6098940+01:00 80000050-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T10:16:44.6289487+01:00 80000050-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-30T10:16:44.6438089+01:00 80000050-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE ([a].[RoleId] = @__role_Id_0) AND @__role_Id_0 IS NOT NULL" (65d11854)
2020-04-30T10:16:44.8467183+01:00 80000050-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T10:16:44.8819638+01:00 80000050-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T10:16:45.0972268+01:00 80000050-0001-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 446.5709ms (afa2e885)
2020-04-30T10:16:45.1019676+01:00 80000050-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T10:16:45.1092410+01:00 80000050-0001-ff00-b63f-84710c7967bb [INF] Request finished in 692.8677ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T10:19:38.7284830+01:00 8000004c-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T10:19:38.7393042+01:00 8000004c-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T10:19:38.7484357+01:00 8000004c-0000-fd00-b63f-84710c7967bb [INF] Request finished in 49.491600000000005ms 204  (791a596a)
2020-04-30T10:19:38.9091184+01:00 8000004e-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 57 (ca22a1cb)
2020-04-30T10:19:38.9245328+01:00 8000004e-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T10:19:38.9297844+01:00 8000004e-0000-fd00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T10:19:38.9327458+01:00 8000004e-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T10:19:38.9420882+01:00 8000004e-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T10:19:38.9850357+01:00 8000004e-0000-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T10:19:39.0625698+01:00 8000004e-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T10:19:39.0995385+01:00 8000004e-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T10:19:39.1186495+01:00 8000004e-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T10:19:39.1348850+01:00 8000004e-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-30T10:19:39.2349521+01:00 8000004e-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE ([a].[RoleId] = @__role_Id_0) AND @__role_Id_0 IS NOT NULL" (65d11854)
2020-04-30T10:19:39.3258803+01:00 8000004e-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T10:19:39.3629595+01:00 8000004e-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T10:19:39.3681074+01:00 8000004e-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 422.21110000000004ms (afa2e885)
2020-04-30T10:19:39.3801481+01:00 8000004e-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T10:19:39.3847539+01:00 8000004e-0000-fd00-b63f-84710c7967bb [INF] Request finished in 631.2519ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T10:22:57.9994154+01:00 80000050-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T10:22:58.1501978+01:00 80000050-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T10:22:58.1658955+01:00 80000050-0000-fd00-b63f-84710c7967bb [INF] Request finished in 892.2186ms 204  (791a596a)
2020-04-30T10:22:58.1752237+01:00 80000052-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 57 (ca22a1cb)
2020-04-30T10:22:58.2024858+01:00 80000052-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T10:22:58.2143319+01:00 80000052-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T10:22:58.2181414+01:00 80000052-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T10:22:58.2365588+01:00 80000052-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T10:22:58.2450773+01:00 80000052-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T10:22:58.3002912+01:00 80000052-0001-ff00-b63f-84710c7967bb [WRN] Invalid password for user "2e33fdd2-e1d6-4bf2-9791-78bb2d23c381". (c2dce6c7)
2020-04-30T10:22:58.3135438+01:00 80000052-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthFailedResponse"'. (8a1b66c8)
2020-04-30T10:22:58.4532956+01:00 80000052-0001-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 95.637ms (afa2e885)
2020-04-30T10:22:58.6694787+01:00 80000052-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T10:22:58.6816346+01:00 80000052-0001-ff00-b63f-84710c7967bb [INF] Request finished in 502.46360000000004ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T10:23:17.9405850+01:00 80000052-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T10:23:18.0148648+01:00 80000052-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T10:23:18.1244114+01:00 80000054-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 57 (ca22a1cb)
2020-04-30T10:23:18.1243974+01:00 80000052-0000-fd00-b63f-84710c7967bb [INF] Request finished in 85.64200000000001ms 204  (791a596a)
2020-04-30T10:23:18.1291428+01:00 80000054-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T10:23:18.1333712+01:00 80000054-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T10:23:18.1410211+01:00 80000054-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T10:23:18.1807468+01:00 80000054-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T10:23:18.1938189+01:00 80000054-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T10:23:18.2243287+01:00 80000054-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T10:23:18.2829221+01:00 80000054-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T10:23:18.3735932+01:00 80000054-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-30T10:23:18.3907491+01:00 80000054-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE ([a].[RoleId] = @__role_Id_0) AND @__role_Id_0 IS NOT NULL" (65d11854)
2020-04-30T10:23:18.4038385+01:00 80000054-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T10:23:18.4149330+01:00 80000054-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T10:23:18.4273123+01:00 80000054-0001-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 276.0271ms (afa2e885)
2020-04-30T10:23:18.4344313+01:00 80000054-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T10:23:18.4424683+01:00 80000054-0001-ff00-b63f-84710c7967bb [INF] Request finished in 354.0912ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T10:29:59.0633007+01:00 80000054-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T10:29:59.0750233+01:00 80000054-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T10:29:59.0812931+01:00 80000054-0000-fd00-b63f-84710c7967bb [INF] Request finished in 546.3072000000001ms 204  (791a596a)
2020-04-30T10:29:59.0970668+01:00 80000056-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 57 (ca22a1cb)
2020-04-30T10:29:59.1078955+01:00 80000056-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T10:29:59.1119933+01:00 80000056-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T10:29:59.1166239+01:00 80000056-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T10:29:59.1322152+01:00 80000056-0000-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T10:30:00.0974125+01:00 80000056-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T10:30:00.3185028+01:00 80000056-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T10:30:00.3663067+01:00 80000056-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T10:30:00.4027016+01:00 80000056-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-30T10:30:00.4262230+01:00 80000056-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE ([a].[RoleId] = @__role_Id_0) AND @__role_Id_0 IS NOT NULL" (65d11854)
2020-04-30T10:30:00.6015827+01:00 80000056-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T10:30:00.7671246+01:00 80000056-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T10:30:00.8316030+01:00 80000056-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 1652.0616ms (afa2e885)
2020-04-30T10:30:01.0181182+01:00 80000056-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T10:30:01.0373633+01:00 80000056-0000-fd00-b63f-84710c7967bb [INF] Request finished in 1926.2446ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T10:31:33.5812960+01:00 80000058-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T10:31:33.7660236+01:00 80000058-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T10:31:34.7362332+01:00 80000058-0000-fd00-b63f-84710c7967bb [INF] Request finished in 887.1747ms 204  (791a596a)
2020-04-30T10:31:34.7544276+01:00 80000056-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 57 (ca22a1cb)
2020-04-30T10:31:34.7622846+01:00 80000056-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T10:31:34.7660189+01:00 80000056-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T10:31:34.8078384+01:00 80000056-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T10:31:34.8234824+01:00 80000056-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T10:31:34.8312153+01:00 80000056-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T10:31:34.8625671+01:00 80000056-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T10:31:34.8790345+01:00 80000056-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T10:31:34.8901492+01:00 80000056-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-30T10:31:34.9011976+01:00 80000056-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE ([a].[RoleId] = @__role_Id_0) AND @__role_Id_0 IS NOT NULL" (65d11854)
2020-04-30T10:31:34.9146027+01:00 80000056-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T10:31:34.9821199+01:00 80000056-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T10:31:35.0329883+01:00 80000056-0001-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 175.21030000000002ms (afa2e885)
2020-04-30T10:31:35.0566175+01:00 80000056-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T10:31:35.0634426+01:00 80000056-0001-ff00-b63f-84710c7967bb [INF] Request finished in 468.6313ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T10:33:21.3455572+01:00 8000005a-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T10:33:21.3949841+01:00 8000005a-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T10:33:21.4106915+01:00 8000005a-0000-fd00-b63f-84710c7967bb [INF] Request finished in 449.1512ms 204  (791a596a)
2020-04-30T10:33:21.4245185+01:00 8000005c-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 57 (ca22a1cb)
2020-04-30T10:33:21.4348297+01:00 8000005c-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T10:33:21.4406793+01:00 8000005c-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T10:33:21.4472870+01:00 8000005c-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T10:33:21.4597736+01:00 8000005c-0000-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T10:33:21.4659362+01:00 8000005c-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T10:33:21.5165028+01:00 8000005c-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T10:33:21.7302711+01:00 8000005c-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T10:33:21.8129299+01:00 8000005c-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-30T10:33:21.8482312+01:00 8000005c-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE ([a].[RoleId] = @__role_Id_0) AND @__role_Id_0 IS NOT NULL" (65d11854)
2020-04-30T10:33:21.8670601+01:00 8000005c-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T10:33:21.8926603+01:00 8000005c-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T10:33:21.8975975+01:00 8000005c-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 446.54200000000003ms (afa2e885)
2020-04-30T10:33:21.9030907+01:00 8000005c-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T10:33:21.9097921+01:00 8000005c-0000-fd00-b63f-84710c7967bb [INF] Request finished in 489.1265ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T10:34:07.4287819+01:00 80000058-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T10:34:07.5928360+01:00 80000058-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T10:34:08.7753758+01:00 80000058-0001-ff00-b63f-84710c7967bb [INF] Request finished in 823.1475ms 204  (791a596a)
2020-04-30T10:34:08.7811652+01:00 8000005e-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 57 (ca22a1cb)
2020-04-30T10:34:08.7920410+01:00 8000005e-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T10:34:08.7961691+01:00 8000005e-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T10:34:08.8009765+01:00 8000005e-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T10:34:08.8428426+01:00 8000005e-0000-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T10:34:08.8507056+01:00 8000005e-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T10:34:08.8911400+01:00 8000005e-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T10:34:09.0002971+01:00 8000005e-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T10:34:09.0184466+01:00 8000005e-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-30T10:34:09.0362557+01:00 8000005e-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE ([a].[RoleId] = @__role_Id_0) AND @__role_Id_0 IS NOT NULL" (65d11854)
2020-04-30T10:34:09.0522151+01:00 8000005e-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T10:34:09.1746164+01:00 8000005e-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T10:34:09.1813742+01:00 8000005e-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 375.2549ms (afa2e885)
2020-04-30T10:34:09.1859349+01:00 8000005e-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T10:34:09.1995314+01:00 8000005e-0000-fd00-b63f-84710c7967bb [INF] Request finished in 1010.5524ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T10:46:38.6075993+01:00 8000005a-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T10:46:38.6334533+01:00 8000005a-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T10:46:38.6722064+01:00 8000005a-0001-ff00-b63f-84710c7967bb [INF] Request finished in 41.4485ms 204  (791a596a)
2020-04-30T10:46:38.6845391+01:00 80000060-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 57 (ca22a1cb)
2020-04-30T10:46:38.7035788+01:00 80000060-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T10:46:38.7190679+01:00 80000060-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T10:46:38.7246926+01:00 80000060-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T10:46:38.7483587+01:00 80000060-0000-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T10:46:39.6007024+01:00 80000060-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T10:46:39.6306547+01:00 80000060-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T10:46:39.6438929+01:00 80000060-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T10:46:39.6607106+01:00 80000060-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-30T10:46:39.6856116+01:00 80000060-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE ([a].[RoleId] = @__role_Id_0) AND @__role_Id_0 IS NOT NULL" (65d11854)
2020-04-30T10:46:39.7226563+01:00 80000060-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T10:46:39.7986463+01:00 80000060-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T10:46:39.8282651+01:00 80000060-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 1086.8736000000001ms (afa2e885)
2020-04-30T10:46:39.8477746+01:00 80000060-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T10:46:39.8556711+01:00 80000060-0000-fd00-b63f-84710c7967bb [INF] Request finished in 1188.7443ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T10:48:49.8183633+01:00 8000005c-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T10:48:49.8223413+01:00 8000005c-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T10:48:49.9469389+01:00 8000005c-0001-ff00-b63f-84710c7967bb [INF] Request finished in 76.0646ms 204  (791a596a)
2020-04-30T10:48:49.9498798+01:00 80000062-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 57 (ca22a1cb)
2020-04-30T10:48:49.9565010+01:00 80000062-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T10:48:49.9722341+01:00 80000062-0000-fd00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T10:48:49.9809998+01:00 80000062-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T10:48:49.9856430+01:00 80000062-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T10:48:50.0086840+01:00 80000062-0000-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T10:48:50.0179471+01:00 80000062-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T10:48:50.0698879+01:00 80000062-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T10:48:50.1095404+01:00 80000062-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T10:48:50.1373832+01:00 80000062-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-30T10:48:50.1504600+01:00 80000062-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE ([a].[RoleId] = @__role_Id_0) AND @__role_Id_0 IS NOT NULL" (65d11854)
2020-04-30T10:48:50.1645663+01:00 80000062-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T10:48:50.1755480+01:00 80000062-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T10:48:50.1898694+01:00 80000062-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 196.3279ms (afa2e885)
2020-04-30T10:48:50.1929456+01:00 80000062-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T10:48:50.2012159+01:00 80000062-0000-fd00-b63f-84710c7967bb [INF] Request finished in 303.49010000000004ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T10:58:04.9439584+01:00 8000005e-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T10:58:05.1771374+01:00 8000005e-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T10:58:05.1832380+01:00 8000005e-0001-ff00-b63f-84710c7967bb [INF] Request finished in 974.6217ms 204  (791a596a)
2020-04-30T10:58:05.1928042+01:00 80000060-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 57 (ca22a1cb)
2020-04-30T10:58:05.1996760+01:00 80000060-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T10:58:05.2349950+01:00 80000060-0001-ff00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T10:58:05.2426528+01:00 80000060-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T10:58:05.2458881+01:00 80000060-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T10:58:05.2641711+01:00 80000060-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T10:58:06.1324615+01:00 80000060-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T10:58:06.2014137+01:00 80000060-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T10:58:06.2511480+01:00 80000060-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T10:58:06.2647188+01:00 80000060-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-30T10:58:06.2837772+01:00 80000060-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE ([a].[RoleId] = @__role_Id_0) AND @__role_Id_0 IS NOT NULL" (65d11854)
2020-04-30T10:58:06.2970578+01:00 80000060-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T10:58:06.3673643+01:00 80000060-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T10:58:06.5168600+01:00 80000060-0001-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 1122.7208ms (afa2e885)
2020-04-30T10:58:06.6905515+01:00 80000060-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T10:58:06.6944436+01:00 80000060-0001-ff00-b63f-84710c7967bb [INF] Request finished in 1504.68ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T11:11:10.3905774+01:00 80000064-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/burser/user/create   (ca22a1cb)
2020-04-30T11:11:10.4407563+01:00 80000064-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T11:11:10.4562803+01:00 80000064-0000-fd00-b63f-84710c7967bb [INF] Request finished in 769.7772ms 204  (791a596a)
2020-04-30T11:11:10.4824217+01:00 80000066-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/burser/user/create application/json 55 (ca22a1cb)
2020-04-30T11:11:10.4861370+01:00 80000066-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T11:11:10.5182274+01:00 80000066-0000-fd00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T11:11:10.5328278+01:00 80000066-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (500cc934)
2020-04-30T11:11:10.6978463+01:00 80000066-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"BurserRegistration\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BurserRegistration(SchoolCloud.Contract.RequestObjs.BurserRegstrationReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T11:11:10.7488980+01:00 80000066-0000-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T11:11:11.6851931+01:00 80000066-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T11:11:12.1483896+01:00 80000066-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedUserName] = @__normalizedUserName_0) AND ([a].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([a].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2020-04-30T11:11:12.2378916+01:00 80000066-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T11:11:12.3022436+01:00 80000066-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256), @p17='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [IsFirstTimeLogin], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [PlatformUserId], [SecurityStamp], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);" (65d11854)
2020-04-30T11:11:12.4057987+01:00 80000066-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T11:11:12.4399320+01:00 80000066-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T11:11:12.4615646+01:00 80000066-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T11:11:12.5039419+01:00 80000066-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T11:11:12.5233945+01:00 80000066-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)" in 1811.111ms (afa2e885)
2020-04-30T11:11:12.5284361+01:00 80000066-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (99874f2b)
2020-04-30T11:11:12.5960974+01:00 80000066-0000-fd00-b63f-84710c7967bb [INF] Request finished in 2059.4465ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T11:26:50.1033008+01:00 80000062-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/burser/user/create   (ca22a1cb)
2020-04-30T11:26:50.1122700+01:00 80000062-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T11:26:50.1416560+01:00 80000062-0001-ff00-b63f-84710c7967bb [INF] Request finished in 108.0257ms 204  (791a596a)
2020-04-30T11:26:50.1523316+01:00 80000068-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/burser/user/create application/json 55 (ca22a1cb)
2020-04-30T11:26:50.1575118+01:00 80000068-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T11:26:50.1649596+01:00 80000068-0000-fd00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T11:26:50.3919550+01:00 80000068-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (500cc934)
2020-04-30T11:26:50.9580302+01:00 80000068-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"BurserRegistration\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BurserRegistration(SchoolCloud.Contract.RequestObjs.BurserRegstrationReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T11:26:51.2169065+01:00 80000068-0000-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T11:26:54.5499367+01:00 80000068-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T11:26:56.9394953+01:00 80000068-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedUserName] = @__normalizedUserName_0) AND ([a].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([a].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2020-04-30T11:26:58.2818738+01:00 80000068-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T11:26:58.3160037+01:00 80000068-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256), @p17='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [IsFirstTimeLogin], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [PlatformUserId], [SecurityStamp], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);" (65d11854)
2020-04-30T11:26:58.4433799+01:00 80000068-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T11:26:58.4551551+01:00 80000068-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T11:26:58.5044901+01:00 80000068-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T11:26:58.5272567+01:00 80000068-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T11:26:58.5890783+01:00 80000068-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)" in 7570.3535ms (afa2e885)
2020-04-30T11:26:58.6134918+01:00 80000068-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (99874f2b)
2020-04-30T11:26:58.6375040+01:00 80000068-0000-fd00-b63f-84710c7967bb [INF] Request finished in 8485.702800000001ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T11:33:35.2293922+01:00 80000064-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/burser/user/create   (ca22a1cb)
2020-04-30T11:33:35.2463910+01:00 80000064-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T11:33:35.2670546+01:00 80000064-0001-ff00-b63f-84710c7967bb [INF] Request finished in 230.47230000000002ms 204  (791a596a)
2020-04-30T11:33:35.2818542+01:00 80000066-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/burser/user/create application/json 55 (ca22a1cb)
2020-04-30T11:33:35.2884647+01:00 80000066-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T11:33:36.1520797+01:00 80000066-0001-ff00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T11:33:36.5656455+01:00 80000066-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (500cc934)
2020-04-30T11:33:36.5796217+01:00 80000066-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"BurserRegistration\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BurserRegistration(SchoolCloud.Contract.RequestObjs.BurserRegstrationReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T11:33:36.9021744+01:00 80000066-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T11:33:41.1804795+01:00 80000066-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T11:33:41.3755507+01:00 80000066-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedUserName] = @__normalizedUserName_0) AND ([a].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([a].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2020-04-30T11:33:41.4290921+01:00 80000066-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T11:33:41.4580013+01:00 80000066-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256), @p17='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [IsFirstTimeLogin], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [PlatformUserId], [SecurityStamp], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);" (65d11854)
2020-04-30T11:33:41.5131168+01:00 80000066-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T11:33:41.6900238+01:00 80000066-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T11:33:41.7809739+01:00 80000066-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T11:33:41.7989486+01:00 80000066-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T11:33:41.8318628+01:00 80000066-0001-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)" in 5220.3098ms (afa2e885)
2020-04-30T11:33:41.8460722+01:00 80000066-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (99874f2b)
2020-04-30T11:33:41.8597513+01:00 80000066-0001-ff00-b63f-84710c7967bb [INF] Request finished in 6570.3671ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T11:34:27.0397047+01:00 80000068-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/burser/user/create   (ca22a1cb)
2020-04-30T11:34:27.0862434+01:00 80000068-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T11:34:27.0961017+01:00 80000068-0001-ff00-b63f-84710c7967bb [INF] Request finished in 69.5292ms 204  (791a596a)
2020-04-30T11:34:27.0989865+01:00 8000006a-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/burser/user/create application/json 55 (ca22a1cb)
2020-04-30T11:34:27.1016107+01:00 8000006a-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T11:34:27.1223210+01:00 8000006a-0000-fd00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T11:34:27.1294530+01:00 8000006a-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (500cc934)
2020-04-30T11:34:27.1488324+01:00 8000006a-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"BurserRegistration\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BurserRegistration(SchoolCloud.Contract.RequestObjs.BurserRegstrationReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T11:34:27.2177631+01:00 8000006a-0000-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T11:34:27.2249576+01:00 8000006a-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T11:34:27.3215366+01:00 8000006a-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthFailedResponse"'. (8a1b66c8)
2020-04-30T11:34:27.5412633+01:00 8000006a-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)" in 173.5299ms (afa2e885)
2020-04-30T11:34:27.5866370+01:00 8000006a-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (99874f2b)
2020-04-30T11:34:27.5925333+01:00 8000006a-0000-fd00-b63f-84710c7967bb [INF] Request finished in 490.5713ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T11:45:59.5598570+01:00 8000006a-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T11:45:59.5911039+01:00 8000006a-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T11:45:59.6260619+01:00 8000006a-0001-ff00-b63f-84710c7967bb [INF] Request finished in 66.6765ms 204  (791a596a)
2020-04-30T11:45:59.6455121+01:00 8000006c-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 61 (ca22a1cb)
2020-04-30T11:45:59.6593694+01:00 8000006c-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T11:46:01.1879908+01:00 8000006c-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T11:46:01.5181560+01:00 8000006c-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T11:46:01.5450686+01:00 8000006c-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T11:46:02.4226458+01:00 8000006c-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T11:46:02.6212550+01:00 8000006c-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.ConfirnmationResponse"'. (8a1b66c8)
2020-04-30T11:46:02.6739465+01:00 8000006c-0001-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 1146.9085ms (afa2e885)
2020-04-30T11:46:02.6890455+01:00 8000006c-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T11:46:02.6941496+01:00 8000006c-0001-ff00-b63f-84710c7967bb [INF] Request finished in 3062.1597ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T11:46:34.8003751+01:00 8000006c-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/firstLogin/changePassword   (ca22a1cb)
2020-04-30T11:46:34.8721055+01:00 8000006c-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T11:46:35.3408510+01:00 8000006c-0000-fd00-b63f-84710c7967bb [INF] Request finished in 633.5485ms 204  (791a596a)
2020-04-30T11:46:35.6727359+01:00 8000006e-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/firstLogin/changePassword application/json 90 (ca22a1cb)
2020-04-30T11:46:36.0012352+01:00 8000006e-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T11:46:36.0055850+01:00 8000006e-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.FirstTimeLogin (SchoolCloud)"' (500cc934)
2020-04-30T11:46:36.0247660+01:00 8000006e-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"FirstTimeLogin\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FirstTimeLogin(SchoolCloud.Contract.RequestObjs.ChangePassword)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T11:46:36.0524194+01:00 8000006e-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T11:46:36.0570519+01:00 8000006e-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T11:46:36.2181727+01:00 8000006e-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedUserName] = @__normalizedUserName_0) AND ([a].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([a].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2020-04-30T11:46:36.2428049+01:00 8000006e-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T11:46:36.2955682+01:00 8000006e-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsFirstTimeLogin] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [PlatformUserId] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserType] = @p16
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
SELECT @@ROWCOUNT;" (65d11854)
2020-04-30T11:46:36.3378771+01:00 8000006e-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedUserName] = @__normalizedUserName_0) AND ([a].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([a].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2020-04-30T11:46:36.3626759+01:00 8000006e-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T11:46:36.3728897+01:00 8000006e-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsFirstTimeLogin] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [PlatformUserId] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserType] = @p16
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
SELECT @@ROWCOUNT;" (65d11854)
2020-04-30T11:46:36.3937796+01:00 8000006e-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T11:46:36.4565555+01:00 8000006e-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T11:46:36.5001235+01:00 8000006e-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T11:46:36.5218928+01:00 8000006e-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T11:46:36.5344876+01:00 8000006e-0001-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.FirstTimeLogin (SchoolCloud)" in 498.6564ms (afa2e885)
2020-04-30T11:46:36.5590145+01:00 8000006e-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.FirstTimeLogin (SchoolCloud)"' (99874f2b)
2020-04-30T11:46:36.5691593+01:00 8000006e-0001-ff00-b63f-84710c7967bb [INF] Request finished in 1469.7658000000001ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T11:49:18.4279715+01:00 8000006e-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T11:49:19.8436772+01:00 8000006e-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T11:49:19.8690344+01:00 8000006e-0000-fd00-b63f-84710c7967bb [INF] Request finished in 1850.1081000000001ms 204  (791a596a)
2020-04-30T11:49:19.9103178+01:00 80000070-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 62 (ca22a1cb)
2020-04-30T11:49:19.9139999+01:00 80000070-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T11:49:19.9209902+01:00 80000070-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T11:49:19.9268924+01:00 80000070-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T11:49:19.9361252+01:00 80000070-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T11:49:19.9454876+01:00 80000070-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T11:49:19.9922217+01:00 80000070-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T11:49:20.0031693+01:00 80000070-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T11:49:21.3521584+01:00 80000070-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T11:49:22.4238215+01:00 80000070-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T11:49:22.8139506+01:00 80000070-0001-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 2515.2418000000002ms (afa2e885)
2020-04-30T11:49:23.0663667+01:00 80000070-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T11:49:24.1209438+01:00 80000070-0001-ff00-b63f-84710c7967bb [INF] Request finished in 3197.8813ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T11:51:30.3901342+01:00 80000072-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T11:51:30.3942997+01:00 80000072-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T11:51:30.4205050+01:00 80000072-0001-ff00-b63f-84710c7967bb [INF] Request finished in 989.2571ms 204  (791a596a)
2020-04-30T11:51:30.4290007+01:00 80000074-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 62 (ca22a1cb)
2020-04-30T11:51:30.4320461+01:00 80000074-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T11:51:30.4383248+01:00 80000074-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T11:51:30.4411183+01:00 80000074-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T11:51:30.4548622+01:00 80000074-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T11:51:30.4657416+01:00 80000074-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T11:51:30.4786402+01:00 80000074-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthFailedResponse"'. (8a1b66c8)
2020-04-30T11:51:30.6151124+01:00 80000074-0001-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 38.5632ms (afa2e885)
2020-04-30T11:51:30.6762973+01:00 80000074-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T11:51:30.6819406+01:00 80000074-0001-ff00-b63f-84710c7967bb [INF] Request finished in 255.5029ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T11:52:12.5185787+01:00 80000070-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/firstLogin/changePassword   (ca22a1cb)
2020-04-30T11:52:12.5507087+01:00 80000070-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T11:52:12.5733177+01:00 80000070-0000-fd00-b63f-84710c7967bb [INF] Request finished in 65.1827ms 204  (791a596a)
2020-04-30T11:52:12.5774472+01:00 80000072-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/firstLogin/changePassword application/json 66 (ca22a1cb)
2020-04-30T11:52:12.5826363+01:00 80000072-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T11:52:12.6486187+01:00 80000072-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.FirstTimeLogin (SchoolCloud)"' (500cc934)
2020-04-30T11:52:12.6777966+01:00 80000072-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"FirstTimeLogin\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FirstTimeLogin(SchoolCloud.Contract.RequestObjs.ChangePassword)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T11:52:14.9020652+01:00 80000072-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.FirstTimeLogin (SchoolCloud)" in 1974.5163ms (afa2e885)
2020-04-30T11:52:15.2805135+01:00 80000072-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.FirstTimeLogin (SchoolCloud)"' (99874f2b)
2020-04-30T11:52:17.3817958+01:00 80000072-0000-fd00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.ArgumentNullException: Value cannot be null. (Parameter 'email')
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByEmailAsync(String email)
   at SchoolCloud.Repository.Implementations.IdentityService.FirstTimeLoginChangePasswsord(ChangePassword pass) in C:\Apps\School portal\Cloud\SchoolCloud\SchoolCloud\Repository\Implementations\IdentityService.cs:line 289
   at Libraryhub.Controllers.V1.IdentityController.FirstTimeLogin(ChangePassword request) in C:\Apps\School portal\Cloud\SchoolCloud\SchoolCloud\Controllers\V1\IdentityController.cs:line 168
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-04-30T11:52:17.4413450+01:00 80000072-0000-fd00-b63f-84710c7967bb [INF] Request finished in 4862.681500000001ms 404  (791a596a)
2020-04-30T12:29:24.8583168+01:00  [INF] User profile is available. Using '"C:\Users\flave\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2020-04-30T12:29:26.1654816+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T12:29:31.4591578+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-30T12:29:32.0394704+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T12:29:32.6442260+01:00 80000074-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44355/swagger/index.html   (ca22a1cb)
2020-04-30T12:29:33.1748011+01:00 80000074-0000-fd00-b63f-84710c7967bb [INF] Request finished in 520.5633ms 200 text/html;charset=utf-8 (791a596a)
2020-04-30T12:29:33.3639960+01:00 80000002-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44355/swagger/swagger-ui-standalone-preset.js   (ca22a1cb)
2020-04-30T12:29:33.3639960+01:00 80000076-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44355/swagger/swagger-ui.css   (ca22a1cb)
2020-04-30T12:29:33.3800665+01:00 80000002-0000-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44355/swagger/swagger-ui-bundle.js   (ca22a1cb)
2020-04-30T12:29:33.6621684+01:00 80000002-0000-fc00-b63f-84710c7967bb [INF] The file "/swagger-ui-bundle.js" was not modified (f1f8d725)
2020-04-30T12:29:33.6685695+01:00 80000002-0000-fb00-b63f-84710c7967bb [INF] The file "/swagger-ui-standalone-preset.js" was not modified (f1f8d725)
2020-04-30T12:29:33.6686791+01:00 80000076-0000-fd00-b63f-84710c7967bb [INF] The file "/swagger-ui.css" was not modified (f1f8d725)
2020-04-30T12:29:33.6918829+01:00 80000002-0000-fb00-b63f-84710c7967bb [INF] Request finished in 313.26120000000003ms 304 application/javascript (791a596a)
2020-04-30T12:29:33.6934685+01:00 80000002-0000-fc00-b63f-84710c7967bb [INF] Request finished in 319.2502ms 304 application/javascript (791a596a)
2020-04-30T12:29:33.6946231+01:00 80000076-0000-fd00-b63f-84710c7967bb [INF] Request finished in 329.62690000000003ms 304 text/css (791a596a)
2020-04-30T12:29:37.8494969+01:00 80000078-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44355/swagger/v1/swagger.json   (ca22a1cb)
2020-04-30T12:29:38.0894245+01:00 80000004-0000-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44355/swagger/favicon-32x32.png   (ca22a1cb)
2020-04-30T12:29:38.1660284+01:00 80000004-0000-fc00-b63f-84710c7967bb [INF] The file "/favicon-32x32.png" was not modified (f1f8d725)
2020-04-30T12:29:38.1874552+01:00 80000004-0000-fc00-b63f-84710c7967bb [INF] Request finished in 85.7615ms 304 image/png (791a596a)
2020-04-30T12:29:38.2507365+01:00 80000078-0000-fd00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NotSupportedException: Conflicting method/path combination "POST api/v1/identity/changePassword" for actions - Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud),Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwagger(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-30T12:29:38.2893310+01:00 80000078-0000-fd00-b63f-84710c7967bb [INF] Request finished in 445.91220000000004ms 500 text/plain (791a596a)
2020-04-30T12:35:08.7876926+01:00  [INF] User profile is available. Using '"C:\Users\flave\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2020-04-30T12:35:27.8031854+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T12:35:50.3846429+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-30T12:35:51.9231539+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T12:35:57.9290627+01:00 80000032-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44355/swagger/index.html   (ca22a1cb)
2020-04-30T12:35:59.5518503+01:00 80000032-0001-fb00-b63f-84710c7967bb [INF] Request finished in 1123.6678ms 200 text/html;charset=utf-8 (791a596a)
2020-04-30T12:36:43.6262719+01:00 80000073-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44355/swagger/v1/swagger.json   (ca22a1cb)
2020-04-30T12:36:43.7229721+01:00 8000000a-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44355/swagger/favicon-32x32.png   (ca22a1cb)
2020-04-30T12:36:50.1345328+01:00 8000000a-0000-ff00-b63f-84710c7967bb [INF] Sending file. Request path: '"/favicon-32x32.png"'. Physical path: '"N/A"' (27b0a520)
2020-04-30T12:36:53.8289709+01:00 8000000a-0000-ff00-b63f-84710c7967bb [INF] Request finished in 8504.6735ms 200 image/png (791a596a)
2020-04-30T12:37:00.1019214+01:00 80000073-0000-fe00-b63f-84710c7967bb [INF] Request finished in 16566.1685ms 200 application/json;charset=utf-8 (791a596a)
2020-04-30T12:38:15.0494659+01:00 8000000c-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T12:38:15.1076053+01:00 8000000c-0000-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T12:38:15.1642995+01:00 8000000c-0000-ff00-b63f-84710c7967bb [INF] Request finished in 205.17100000000002ms 204  (791a596a)
2020-04-30T12:38:15.1648075+01:00 80000034-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 57 (ca22a1cb)
2020-04-30T12:38:15.2245732+01:00 80000034-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T12:38:15.9409900+01:00 80000034-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T12:38:16.2374681+01:00 80000034-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T12:38:20.2571007+01:00 80000034-0001-fb00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T12:38:20.4484970+01:00 80000034-0001-fb00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T12:38:20.9550768+01:00 80000034-0001-fb00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T12:38:21.5688014+01:00 80000034-0001-fb00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T12:38:21.6138048+01:00 80000034-0001-fb00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-30T12:38:21.6693607+01:00 80000034-0001-fb00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE ([a].[RoleId] = @__role_Id_0) AND @__role_Id_0 IS NOT NULL" (65d11854)
2020-04-30T12:38:28.4362287+01:00 80000034-0001-fb00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T12:38:29.0587518+01:00 80000034-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T12:38:29.0993504+01:00 80000034-0001-fb00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 12821.483400000001ms (afa2e885)
2020-04-30T12:38:29.1104730+01:00 80000034-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T12:38:29.1341171+01:00 80000034-0001-fb00-b63f-84710c7967bb [INF] Request finished in 13978.630500000001ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T13:43:12.7902733+01:00 80000036-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T13:43:12.8165524+01:00 80000036-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T13:43:12.8452102+01:00 8000000e-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 57 (ca22a1cb)
2020-04-30T13:43:12.8460681+01:00 80000036-0001-fb00-b63f-84710c7967bb [INF] Request finished in 64.6029ms 204  (791a596a)
2020-04-30T13:43:12.8492068+01:00 8000000e-0000-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T13:43:12.8677832+01:00 8000000e-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T13:43:12.8821830+01:00 8000000e-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T13:43:13.0433411+01:00 8000000e-0000-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T13:43:13.9327131+01:00 8000000e-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T13:43:13.9818779+01:00 8000000e-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T13:43:14.0023889+01:00 8000000e-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T13:43:14.0648151+01:00 8000000e-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-30T13:43:14.0815782+01:00 8000000e-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE ([a].[RoleId] = @__role_Id_0) AND @__role_Id_0 IS NOT NULL" (65d11854)
2020-04-30T13:43:14.0985793+01:00 8000000e-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T13:43:14.3116283+01:00 8000000e-0000-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T13:43:14.3190398+01:00 8000000e-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 1430.6731ms (afa2e885)
2020-04-30T13:43:14.3237847+01:00 8000000e-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T13:43:14.3317373+01:00 8000000e-0000-ff00-b63f-84710c7967bb [INF] Request finished in 1483.0899000000002ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T13:45:22.6879991+01:00 80000010-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/confirm/email text/plain 17 (ca22a1cb)
2020-04-30T13:45:22.6916179+01:00 80000010-0000-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T13:45:23.0482306+01:00 80000010-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (500cc934)
2020-04-30T13:45:23.0960909+01:00 80000010-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"BurserRegistration\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BurserRegistration(System.String)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T13:45:23.2220727+01:00 80000010-0000-ff00-b63f-84710c7967bb [INF] Executing HttpStatusCodeResult, setting HTTP status code 415 (e28ccfae)
2020-04-30T13:45:23.2309326+01:00 80000010-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)" in 126.5201ms (afa2e885)
2020-04-30T13:45:23.2362928+01:00 80000010-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (99874f2b)
2020-04-30T13:45:23.3936051+01:00 80000010-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (500cc934)
2020-04-30T13:45:23.6118091+01:00 80000010-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"BurserRegistration\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BurserRegistration(System.String)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T13:45:23.6313358+01:00 80000010-0000-ff00-b63f-84710c7967bb [INF] Executing HttpStatusCodeResult, setting HTTP status code 415 (e28ccfae)
2020-04-30T13:45:23.7368107+01:00 80000010-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)" in 19.6522ms (afa2e885)
2020-04-30T13:45:24.1840763+01:00 80000010-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (99874f2b)
2020-04-30T13:45:24.2661981+01:00 80000010-0000-ff00-b63f-84710c7967bb [INF] Request finished in 1579.8554000000001ms 415  (791a596a)
2020-04-30T13:47:15.0492327+01:00 80000012-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/confirm/email text/plain 17 (ca22a1cb)
2020-04-30T13:47:15.0655079+01:00 80000012-0000-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T13:47:15.0768898+01:00 80000012-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (500cc934)
2020-04-30T13:47:15.0922860+01:00 80000012-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"BurserRegistration\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BurserRegistration(System.String)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T13:47:15.1235026+01:00 80000012-0000-ff00-b63f-84710c7967bb [INF] Executing HttpStatusCodeResult, setting HTTP status code 415 (e28ccfae)
2020-04-30T13:47:15.1311823+01:00 80000012-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)" in 31.7082ms (afa2e885)
2020-04-30T13:47:15.1399696+01:00 80000012-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (99874f2b)
2020-04-30T13:47:15.3494815+01:00 80000012-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (500cc934)
2020-04-30T13:47:15.3793195+01:00 80000012-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"BurserRegistration\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BurserRegistration(System.String)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T13:47:15.4690193+01:00 80000012-0000-ff00-b63f-84710c7967bb [INF] Executing HttpStatusCodeResult, setting HTTP status code 415 (e28ccfae)
2020-04-30T13:47:15.5139766+01:00 80000012-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)" in 89.9372ms (afa2e885)
2020-04-30T13:47:15.5259425+01:00 80000012-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (99874f2b)
2020-04-30T13:47:15.6428857+01:00 80000012-0000-ff00-b63f-84710c7967bb [INF] Request finished in 552.635ms 415  (791a596a)
2020-04-30T13:56:16.2252874+01:00  [INF] User profile is available. Using '"C:\Users\flave\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2020-04-30T13:56:18.3267839+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T13:56:24.2080424+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-30T13:56:24.8900237+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T13:56:27.2892246+01:00 8000007a-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44355/swagger/index.html   (ca22a1cb)
2020-04-30T13:56:29.1889565+01:00 8000007a-0000-fd00-b63f-84710c7967bb [INF] Request finished in 1465.0839ms 200 text/html;charset=utf-8 (791a596a)
2020-04-30T13:56:30.3760978+01:00 80000006-0000-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44355/swagger/favicon-32x32.png   (ca22a1cb)
2020-04-30T13:56:30.3956573+01:00 8000007c-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 GET https://localhost:44355/swagger/v1/swagger.json   (ca22a1cb)
2020-04-30T13:56:30.4599522+01:00 80000006-0000-fc00-b63f-84710c7967bb [INF] Sending file. Request path: '"/favicon-32x32.png"'. Physical path: '"N/A"' (27b0a520)
2020-04-30T13:56:30.4716435+01:00 80000006-0000-fc00-b63f-84710c7967bb [INF] Request finished in 159.223ms 200 image/png (791a596a)
2020-04-30T13:56:30.7867773+01:00 8000007c-0000-fd00-b63f-84710c7967bb [INF] Request finished in 407.468ms 200 application/json;charset=utf-8 (791a596a)
2020-04-30T14:07:41.1891198+01:00 8000007e-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/confirm/email   (ca22a1cb)
2020-04-30T14:07:41.2150755+01:00 8000007e-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:07:41.2299352+01:00 8000007e-0000-fd00-b63f-84710c7967bb [INF] Request finished in 37.8387ms 204  (791a596a)
2020-04-30T14:07:41.2369689+01:00 80000080-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/confirm/email application/json 29 (ca22a1cb)
2020-04-30T14:07:41.2473571+01:00 80000080-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:07:41.3903068+01:00 80000080-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (500cc934)
2020-04-30T14:07:41.4768591+01:00 80000080-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"BurserRegistration\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BurserRegistration(SchoolCloud.Contract.RequestObjs.ConfirnmationRequest)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T14:07:53.3034089+01:00 80000080-0000-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T14:07:54.1578537+01:00 80000080-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T14:08:12.2707760+01:00 80000080-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthFailedResponse"'. (8a1b66c8)
2020-04-30T14:08:12.3282823+01:00 80000080-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)" in 30805.200800000002ms (afa2e885)
2020-04-30T14:08:12.4408841+01:00 80000080-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (99874f2b)
2020-04-30T14:08:12.4512234+01:00 80000080-0000-fd00-b63f-84710c7967bb [INF] Request finished in 31209.7102ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T14:08:29.8601702+01:00 80000082-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/confirm/email   (ca22a1cb)
2020-04-30T14:08:29.9014849+01:00 80000082-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:08:29.9106062+01:00 80000082-0000-fd00-b63f-84710c7967bb [INF] Request finished in 48.8688ms 204  (791a596a)
2020-04-30T14:08:29.9171088+01:00 80000077-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/confirm/email application/json 36 (ca22a1cb)
2020-04-30T14:08:29.9198515+01:00 80000077-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:08:29.9237310+01:00 80000077-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (500cc934)
2020-04-30T14:08:29.9279016+01:00 80000077-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"BurserRegistration\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BurserRegistration(SchoolCloud.Contract.RequestObjs.ConfirnmationRequest)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T14:08:32.6071966+01:00 80000077-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T14:08:32.6140819+01:00 80000077-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T14:08:32.6196241+01:00 80000077-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthFailedResponse"'. (8a1b66c8)
2020-04-30T14:08:32.6319843+01:00 80000077-0001-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)" in 2697.9210000000003ms (afa2e885)
2020-04-30T14:08:32.6889509+01:00 80000077-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (99874f2b)
2020-04-30T14:08:32.7699680+01:00 80000077-0001-ff00-b63f-84710c7967bb [INF] Request finished in 2781.2982ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T14:15:23.6692058+01:00 80000079-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/confirm/email   (ca22a1cb)
2020-04-30T14:15:23.6941151+01:00 80000079-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:15:23.7015751+01:00 80000079-0001-ff00-b63f-84710c7967bb [INF] Request finished in 39.170500000000004ms 204  (791a596a)
2020-04-30T14:15:23.7999963+01:00 80000084-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/confirm/email application/json 40 (ca22a1cb)
2020-04-30T14:15:23.8132168+01:00 80000084-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:15:23.8213355+01:00 80000084-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (500cc934)
2020-04-30T14:15:23.8309900+01:00 80000084-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"BurserRegistration\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BurserRegistration(SchoolCloud.Contract.RequestObjs.ConfirnmationRequest)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T14:15:27.5832754+01:00 80000084-0000-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T14:15:29.3633934+01:00 80000084-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T14:15:29.5002191+01:00 80000084-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthFailedResponse"'. (8a1b66c8)
2020-04-30T14:15:29.5602899+01:00 80000084-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)" in 5670.4001ms (afa2e885)
2020-04-30T14:15:29.6613428+01:00 80000084-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (99874f2b)
2020-04-30T14:15:29.6991582+01:00 80000084-0000-fd00-b63f-84710c7967bb [INF] Request finished in 5959.214800000001ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T14:15:35.5135651+01:00 80000086-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/confirm/email   (ca22a1cb)
2020-04-30T14:15:35.5246616+01:00 80000086-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:15:35.5439882+01:00 80000086-0000-fd00-b63f-84710c7967bb [INF] Request finished in 15.057500000000001ms 204  (791a596a)
2020-04-30T14:15:35.5490209+01:00 80000088-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/confirm/email application/json 39 (ca22a1cb)
2020-04-30T14:15:35.5591960+01:00 80000088-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:15:35.5628072+01:00 80000088-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (500cc934)
2020-04-30T14:15:35.5705377+01:00 80000088-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"BurserRegistration\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BurserRegistration(SchoolCloud.Contract.RequestObjs.ConfirnmationRequest)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T14:15:35.6740160+01:00 80000088-0000-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T14:15:35.6815091+01:00 80000088-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T14:15:35.6871133+01:00 80000088-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthFailedResponse"'. (8a1b66c8)
2020-04-30T14:15:35.6917989+01:00 80000088-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)" in 117.9778ms (afa2e885)
2020-04-30T14:15:35.6986841+01:00 80000088-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (99874f2b)
2020-04-30T14:15:35.7054481+01:00 80000088-0000-fd00-b63f-84710c7967bb [INF] Request finished in 168.5569ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T14:15:52.8322202+01:00 8000008a-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/confirm/email   (ca22a1cb)
2020-04-30T14:15:52.8399544+01:00 8000008a-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:15:52.8456785+01:00 8000008a-0000-fd00-b63f-84710c7967bb [INF] Request finished in 73.98530000000001ms 204  (791a596a)
2020-04-30T14:15:52.8490929+01:00 8000007b-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/confirm/email application/json 39 (ca22a1cb)
2020-04-30T14:15:52.8603899+01:00 8000007b-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:15:52.8639736+01:00 8000007b-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (500cc934)
2020-04-30T14:15:52.8725924+01:00 8000007b-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"BurserRegistration\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BurserRegistration(SchoolCloud.Contract.RequestObjs.ConfirnmationRequest)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T14:15:52.8817300+01:00 8000007b-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T14:15:52.8925209+01:00 8000007b-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T14:15:52.8974201+01:00 8000007b-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthFailedResponse"'. (8a1b66c8)
2020-04-30T14:15:52.9140854+01:00 8000007b-0001-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)" in 25.4355ms (afa2e885)
2020-04-30T14:15:52.9193364+01:00 8000007b-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (99874f2b)
2020-04-30T14:15:52.9246910+01:00 8000007b-0001-ff00-b63f-84710c7967bb [INF] Request finished in 74.3292ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T14:24:02.5302042+01:00 8000007d-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/confirm/email   (ca22a1cb)
2020-04-30T14:24:02.5455276+01:00 8000007d-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:24:02.5641969+01:00 8000007d-0001-ff00-b63f-84710c7967bb [INF] Request finished in 114.9436ms 204  (791a596a)
2020-04-30T14:24:02.5780378+01:00 8000007f-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/confirm/email application/json 40 (ca22a1cb)
2020-04-30T14:24:02.5822173+01:00 8000007f-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:24:02.5904042+01:00 8000007f-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (500cc934)
2020-04-30T14:24:02.5981128+01:00 8000007f-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"BurserRegistration\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BurserRegistration(SchoolCloud.Contract.RequestObjs.ConfirnmationRequest)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T14:24:02.6161957+01:00 8000007f-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T14:24:03.5307863+01:00 8000007f-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T14:24:03.5434512+01:00 8000007f-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthFailedResponse"'. (8a1b66c8)
2020-04-30T14:24:03.5567631+01:00 8000007f-0001-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)" in 950.5512ms (afa2e885)
2020-04-30T14:24:03.5649812+01:00 8000007f-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (99874f2b)
2020-04-30T14:24:03.5717665+01:00 8000007f-0001-ff00-b63f-84710c7967bb [INF] Request finished in 1000.4730000000001ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T14:24:06.4540416+01:00 8000008c-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/confirm/email application/json 40 (ca22a1cb)
2020-04-30T14:24:06.4984917+01:00 8000008c-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:24:06.5989851+01:00 8000008c-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (500cc934)
2020-04-30T14:24:08.4667853+01:00 8000008c-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"BurserRegistration\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BurserRegistration(SchoolCloud.Contract.RequestObjs.ConfirnmationRequest)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T14:24:08.6288652+01:00 8000008c-0000-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T14:24:08.6990504+01:00 8000008c-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T14:24:08.7179828+01:00 8000008c-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthFailedResponse"'. (8a1b66c8)
2020-04-30T14:24:08.7419885+01:00 8000008c-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)" in 251.97ms (afa2e885)
2020-04-30T14:24:08.7685223+01:00 8000008c-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (99874f2b)
2020-04-30T14:24:08.7776812+01:00 8000008c-0000-fd00-b63f-84710c7967bb [INF] Request finished in 2830.4904ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T14:24:11.5284893+01:00 80000081-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/confirm/email   (ca22a1cb)
2020-04-30T14:24:11.5397290+01:00 80000081-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:24:11.5714418+01:00 80000081-0001-ff00-b63f-84710c7967bb [INF] Request finished in 14.226700000000001ms 204  (791a596a)
2020-04-30T14:24:11.5774935+01:00 8000008e-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/confirm/email application/json 39 (ca22a1cb)
2020-04-30T14:24:11.5809727+01:00 8000008e-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:24:11.5915807+01:00 8000008e-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (500cc934)
2020-04-30T14:24:11.5955834+01:00 8000008e-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"BurserRegistration\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BurserRegistration(SchoolCloud.Contract.RequestObjs.ConfirnmationRequest)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T14:24:11.6129450+01:00 8000008e-0000-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T14:24:11.6280670+01:00 8000008e-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T14:24:11.6391858+01:00 8000008e-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthFailedResponse"'. (8a1b66c8)
2020-04-30T14:24:11.7437346+01:00 8000008e-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)" in 45.8874ms (afa2e885)
2020-04-30T14:24:11.7628886+01:00 8000008e-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (99874f2b)
2020-04-30T14:24:11.7674889+01:00 8000008e-0000-fd00-b63f-84710c7967bb [INF] Request finished in 218.93540000000002ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T14:24:33.4859925+01:00 80000090-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T14:24:33.5228962+01:00 80000090-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:24:33.5549050+01:00 80000090-0000-fd00-b63f-84710c7967bb [INF] Request finished in 169.9023ms 204  (791a596a)
2020-04-30T14:24:33.6410924+01:00 80000083-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 62 (ca22a1cb)
2020-04-30T14:24:33.8090863+01:00 80000083-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:24:33.8251408+01:00 80000083-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T14:24:34.0195168+01:00 80000083-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T14:24:34.2523339+01:00 80000083-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T14:24:34.5922711+01:00 80000083-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T14:24:34.6583706+01:00 80000083-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthFailedResponse"'. (8a1b66c8)
2020-04-30T14:24:34.6856662+01:00 80000083-0001-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 640.9021ms (afa2e885)
2020-04-30T14:24:34.7547630+01:00 80000083-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T14:24:34.9246280+01:00 80000083-0001-ff00-b63f-84710c7967bb [INF] Request finished in 1199.0402000000001ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T14:24:47.1913258+01:00 80000092-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/confirm/email   (ca22a1cb)
2020-04-30T14:24:47.1974008+01:00 80000092-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:24:47.2081926+01:00 80000092-0000-fd00-b63f-84710c7967bb [INF] Request finished in 28.0774ms 204  (791a596a)
2020-04-30T14:24:47.2148306+01:00 80000085-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/confirm/email application/json 39 (ca22a1cb)
2020-04-30T14:24:47.2173684+01:00 80000085-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:24:47.2209517+01:00 80000085-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (500cc934)
2020-04-30T14:24:47.2246469+01:00 80000085-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"BurserRegistration\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BurserRegistration(SchoolCloud.Contract.RequestObjs.ConfirnmationRequest)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T14:24:47.2382644+01:00 80000085-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T14:24:47.2478227+01:00 80000085-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T14:24:47.2539447+01:00 80000085-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthFailedResponse"'. (8a1b66c8)
2020-04-30T14:24:47.2665755+01:00 80000085-0001-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)" in 30.276500000000002ms (afa2e885)
2020-04-30T14:24:47.3734681+01:00 80000085-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (99874f2b)
2020-04-30T14:24:47.3849326+01:00 80000085-0001-ff00-b63f-84710c7967bb [INF] Request finished in 165.0352ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T14:25:17.0691205+01:00 80000087-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T14:25:17.0836239+01:00 80000087-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:25:17.0955997+01:00 80000087-0001-ff00-b63f-84710c7967bb [INF] Request finished in 19.8808ms 204  (791a596a)
2020-04-30T14:25:17.1004836+01:00 80000094-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 57 (ca22a1cb)
2020-04-30T14:25:17.1252595+01:00 80000094-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:25:17.1344157+01:00 80000094-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T14:25:17.1376389+01:00 80000094-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T14:25:17.2500139+01:00 80000094-0000-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T14:25:17.2556261+01:00 80000094-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T14:25:17.5542393+01:00 80000094-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T14:25:17.7247448+01:00 80000094-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T14:25:17.8252924+01:00 80000094-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-30T14:25:17.8710306+01:00 80000094-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE ([a].[RoleId] = @__role_Id_0) AND @__role_Id_0 IS NOT NULL" (65d11854)
2020-04-30T14:25:18.8816633+01:00 80000094-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T14:25:19.0146427+01:00 80000094-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T14:25:19.0385192+01:00 80000094-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 1888.4287000000002ms (afa2e885)
2020-04-30T14:25:19.0444509+01:00 80000094-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T14:25:19.0595897+01:00 80000094-0000-fd00-b63f-84710c7967bb [INF] Request finished in 1959.1756ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T14:26:17.9402384+01:00 80000096-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T14:26:18.0076996+01:00 80000096-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:26:18.1550164+01:00 80000096-0000-fd00-b63f-84710c7967bb [INF] Request finished in 1583.0002000000002ms 204  (791a596a)
2020-04-30T14:26:18.2063476+01:00 80000098-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 57 (ca22a1cb)
2020-04-30T14:26:18.2208673+01:00 80000098-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:26:18.2372100+01:00 80000098-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T14:26:18.2515096+01:00 80000098-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T14:26:18.2843943+01:00 80000098-0000-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T14:26:18.3064617+01:00 80000098-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T14:26:18.6546134+01:00 80000098-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T14:26:18.6864877+01:00 80000098-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T14:26:18.7194915+01:00 80000098-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-30T14:26:18.7561565+01:00 80000098-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE ([a].[RoleId] = @__role_Id_0) AND @__role_Id_0 IS NOT NULL" (65d11854)
2020-04-30T14:26:18.8047585+01:00 80000098-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T14:26:18.8439287+01:00 80000098-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T14:26:18.8565333+01:00 80000098-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 593.6936000000001ms (afa2e885)
2020-04-30T14:26:18.8601749+01:00 80000098-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T14:26:18.8731472+01:00 80000098-0000-fd00-b63f-84710c7967bb [INF] Request finished in 738.2583000000001ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T14:30:08.6412305+01:00 80000089-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T14:30:08.6577301+01:00 80000089-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:30:08.6699279+01:00 80000089-0001-ff00-b63f-84710c7967bb [INF] Request finished in 107.2574ms 204  (791a596a)
2020-04-30T14:30:08.6775041+01:00 8000008b-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 57 (ca22a1cb)
2020-04-30T14:30:08.6909144+01:00 8000008b-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:30:08.6948830+01:00 8000008b-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T14:30:08.6992253+01:00 8000008b-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T14:30:08.7424816+01:00 8000008b-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T14:30:09.6084529+01:00 8000008b-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T14:30:09.6501026+01:00 8000008b-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T14:30:09.7472191+01:00 8000008b-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T14:30:10.5731819+01:00 8000008b-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-30T14:30:11.1191356+01:00 8000008b-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE ([a].[RoleId] = @__role_Id_0) AND @__role_Id_0 IS NOT NULL" (65d11854)
2020-04-30T14:30:11.1773040+01:00 8000008b-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T14:30:11.6560843+01:00 8000008b-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T14:30:11.9915080+01:00 8000008b-0001-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 2979.9582ms (afa2e885)
2020-04-30T14:30:12.0944945+01:00 8000008b-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T14:30:12.2917601+01:00 8000008b-0001-ff00-b63f-84710c7967bb [INF] Request finished in 3424.4699ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T14:30:55.7426029+01:00 8000009a-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/burser/user/create   (ca22a1cb)
2020-04-30T14:30:55.9070172+01:00 8000009a-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:30:55.9604561+01:00 8000009a-0000-fd00-b63f-84710c7967bb [INF] Request finished in 620.5795ms 204  (791a596a)
2020-04-30T14:30:56.0139262+01:00 8000009c-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/burser/user/create application/json 55 (ca22a1cb)
2020-04-30T14:30:56.0489873+01:00 8000009c-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:30:57.3057839+01:00 8000009c-0000-fd00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2020-04-30T14:30:57.4027057+01:00 8000009c-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (500cc934)
2020-04-30T14:30:57.7363120+01:00 8000009c-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"BurserRegistration\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BurserRegistration(SchoolCloud.Contract.RequestObjs.BurserRegstrationReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T14:30:59.0632448+01:00 8000009c-0000-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T14:30:59.4954598+01:00 8000009c-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T14:30:59.7825712+01:00 8000009c-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedUserName] = @__normalizedUserName_0) AND ([a].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([a].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2020-04-30T14:30:59.9606740+01:00 8000009c-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T14:30:59.9979991+01:00 8000009c-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256), @p17='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [IsFirstTimeLogin], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [PlatformUserId], [SecurityStamp], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);" (65d11854)
2020-04-30T14:31:00.0989375+01:00 8000009c-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T14:31:00.1317067+01:00 8000009c-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T14:31:00.1629181+01:00 8000009c-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T14:31:00.1923232+01:00 8000009c-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T14:31:00.1988363+01:00 8000009c-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)" in 2455.5195000000003ms (afa2e885)
2020-04-30T14:31:00.2029560+01:00 8000009c-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (99874f2b)
2020-04-30T14:31:00.2093733+01:00 8000009c-0000-fd00-b63f-84710c7967bb [INF] Request finished in 4240.8185ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T14:36:05.1926998+01:00 8000008d-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T14:36:05.3361869+01:00 8000008d-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:36:06.8645960+01:00 8000008d-0001-ff00-b63f-84710c7967bb [INF] Request finished in 698.5326ms 204  (791a596a)
2020-04-30T14:36:06.9248739+01:00 8000009e-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 62 (ca22a1cb)
2020-04-30T14:36:06.9779395+01:00 8000009e-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:36:07.0618028+01:00 8000009e-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T14:36:07.2663179+01:00 8000009e-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T14:36:08.0527474+01:00 8000009e-0000-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T14:36:08.9109751+01:00 8000009e-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T14:36:09.6094653+01:00 8000009e-0000-fd00-b63f-84710c7967bb [WRN] Invalid password for user "c41d1152-6b40-4589-ba5e-6a932a7a2b5c". (c2dce6c7)
2020-04-30T14:36:09.8773355+01:00 8000009e-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthFailedResponse"'. (8a1b66c8)
2020-04-30T14:36:10.2856119+01:00 8000009e-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 2633.4221000000002ms (afa2e885)
2020-04-30T14:36:12.6057187+01:00 8000009e-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T14:36:13.7509703+01:00 8000009e-0000-fd00-b63f-84710c7967bb [INF] Request finished in 5848.591ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T14:36:53.7981196+01:00 800000a0-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T14:36:53.8305804+01:00 800000a0-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:36:53.8633149+01:00 800000a0-0000-fd00-b63f-84710c7967bb [INF] Request finished in 57.112100000000005ms 204  (791a596a)
2020-04-30T14:36:53.8900344+01:00 8000008f-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 61 (ca22a1cb)
2020-04-30T14:36:53.8953227+01:00 8000008f-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:36:53.8988234+01:00 8000008f-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T14:36:53.9075654+01:00 8000008f-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T14:36:53.9172203+01:00 8000008f-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T14:36:53.9276669+01:00 8000008f-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T14:36:53.9688962+01:00 8000008f-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.ConfirnmationResponse"'. (8a1b66c8)
2020-04-30T14:36:54.0010160+01:00 8000008f-0001-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 70.4692ms (afa2e885)
2020-04-30T14:36:54.0193116+01:00 8000008f-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T14:36:54.0353820+01:00 8000008f-0001-ff00-b63f-84710c7967bb [INF] Request finished in 142.11790000000002ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T14:37:36.0894963+01:00 800000a2-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/firstLogin/changePassword   (ca22a1cb)
2020-04-30T14:37:36.1064535+01:00 800000a2-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:37:36.1183888+01:00 800000a2-0000-fd00-b63f-84710c7967bb [INF] Request finished in 20.994300000000003ms 204  (791a596a)
2020-04-30T14:37:36.1260601+01:00 80000091-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/firstLogin/changePassword application/json 95 (ca22a1cb)
2020-04-30T14:37:36.1400750+01:00 80000091-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:37:36.1433709+01:00 80000091-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.FirstTimeLogin (SchoolCloud)"' (500cc934)
2020-04-30T14:37:36.2599604+01:00 80000091-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"FirstTimeLogin\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FirstTimeLogin(SchoolCloud.Contract.RequestObjs.ChangePassword)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T14:37:36.2861727+01:00 80000091-0001-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T14:37:36.2920339+01:00 80000091-0001-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T14:37:36.3219942+01:00 80000091-0001-ff00-b63f-84710c7967bb [WRN] Invalid password for user "c41d1152-6b40-4589-ba5e-6a932a7a2b5c". (c2dce6c7)
2020-04-30T14:37:36.3265017+01:00 80000091-0001-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthFailedResponse"'. (8a1b66c8)
2020-04-30T14:37:36.3392271+01:00 80000091-0001-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.FirstTimeLogin (SchoolCloud)" in 67.5382ms (afa2e885)
2020-04-30T14:37:36.3428892+01:00 80000091-0001-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.FirstTimeLogin (SchoolCloud)"' (99874f2b)
2020-04-30T14:37:36.3505871+01:00 80000091-0001-ff00-b63f-84710c7967bb [INF] Request finished in 224.08010000000002ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T14:37:52.6256547+01:00 80000093-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/firstLogin/changePassword   (ca22a1cb)
2020-04-30T14:37:52.6383087+01:00 80000093-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:37:52.6527776+01:00 80000093-0001-ff00-b63f-84710c7967bb [INF] Request finished in 16.1487ms 204  (791a596a)
2020-04-30T14:37:52.6561215+01:00 800000a4-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/firstLogin/changePassword application/json 90 (ca22a1cb)
2020-04-30T14:37:52.6584000+01:00 800000a4-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T14:37:52.6737734+01:00 800000a4-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.FirstTimeLogin (SchoolCloud)"' (500cc934)
2020-04-30T14:37:52.6858346+01:00 800000a4-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"FirstTimeLogin\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FirstTimeLogin(SchoolCloud.Contract.RequestObjs.ChangePassword)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T14:37:52.7004327+01:00 800000a4-0000-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T14:37:52.7176562+01:00 800000a4-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T14:37:52.8154341+01:00 800000a4-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedUserName] = @__normalizedUserName_0) AND ([a].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([a].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2020-04-30T14:37:52.8359872+01:00 800000a4-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T14:37:52.8774045+01:00 800000a4-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsFirstTimeLogin] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [PlatformUserId] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserType] = @p16
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
SELECT @@ROWCOUNT;" (65d11854)
2020-04-30T14:37:52.9051195+01:00 800000a4-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedUserName] = @__normalizedUserName_0) AND ([a].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([a].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2020-04-30T14:37:52.9126140+01:00 800000a4-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T14:37:52.9193308+01:00 800000a4-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsFirstTimeLogin] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [PlatformUserId] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserType] = @p16
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
SELECT @@ROWCOUNT;" (65d11854)
2020-04-30T14:37:52.9250507+01:00 800000a4-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T14:37:52.9357968+01:00 800000a4-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T14:37:52.9482956+01:00 800000a4-0000-fd00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T14:37:52.9547100+01:00 800000a4-0000-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T14:37:52.9580293+01:00 800000a4-0000-fd00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.FirstTimeLogin (SchoolCloud)" in 270.0445ms (afa2e885)
2020-04-30T14:37:52.9654347+01:00 800000a4-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.FirstTimeLogin (SchoolCloud)"' (99874f2b)
2020-04-30T14:37:52.9679137+01:00 800000a4-0000-fd00-b63f-84710c7967bb [INF] Request finished in 312.86560000000003ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T16:26:11.7036147+01:00  [INF] User profile is available. Using '"C:\Users\flave\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2020-04-30T16:26:14.3850277+01:00  [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T16:26:20.2428235+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-30T16:26:20.8293567+01:00  [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T16:26:21.4956025+01:00 80000016-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T16:26:21.8241061+01:00 80000016-0000-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T16:26:23.0440945+01:00 80000018-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 57 (ca22a1cb)
2020-04-30T16:26:23.0440940+01:00 80000016-0000-ff00-b63f-84710c7967bb [INF] Request finished in 1054.9512ms 204  (791a596a)
2020-04-30T16:26:23.8117151+01:00 80000018-0000-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T16:26:24.8696950+01:00 80000018-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T16:26:25.0197926+01:00 80000018-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T16:26:25.2524524+01:00 80000018-0000-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T16:26:25.2695817+01:00 80000018-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T16:26:25.5718319+01:00 80000018-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T16:26:25.7902855+01:00 80000018-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T16:26:25.8251940+01:00 80000018-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE (([a].[NormalizedName] = @__normalizedName_0) AND ([a].[NormalizedName] IS NOT NULL AND @__normalizedName_0 IS NOT NULL)) OR ([a].[NormalizedName] IS NULL AND @__normalizedName_0 IS NULL)" (65d11854)
2020-04-30T16:26:25.8546934+01:00 80000018-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE ([a].[RoleId] = @__role_Id_0) AND @__role_Id_0 IS NOT NULL" (65d11854)
2020-04-30T16:26:27.0795699+01:00 80000018-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T16:26:27.2280897+01:00 80000018-0000-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T16:26:27.3149293+01:00 80000018-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 2260.7423ms (afa2e885)
2020-04-30T16:26:27.3315362+01:00 80000018-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T16:26:27.3643269+01:00 80000018-0000-ff00-b63f-84710c7967bb [INF] Request finished in 4610.0154ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T20:23:48.1914406+01:00 80000038-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T20:23:48.4211213+01:00 80000038-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T20:23:48.5570999+01:00 80000038-0001-fb00-b63f-84710c7967bb [INF] Request finished in 291.19010000000003ms 204  (791a596a)
2020-04-30T20:23:48.5771599+01:00 8000001a-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 61 (ca22a1cb)
2020-04-30T20:23:48.6064181+01:00 8000001a-0000-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T20:23:48.6743477+01:00 8000001a-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T20:23:48.6907022+01:00 8000001a-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T20:23:49.5775536+01:00 8000001a-0000-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T20:23:50.4685561+01:00 8000001a-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T20:23:50.5166226+01:00 8000001a-0000-ff00-b63f-84710c7967bb [WRN] Invalid password for user "c41d1152-6b40-4589-ba5e-6a932a7a2b5c". (c2dce6c7)
2020-04-30T20:23:50.5298049+01:00 8000001a-0000-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthFailedResponse"'. (8a1b66c8)
2020-04-30T20:23:50.5504671+01:00 8000001a-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 1842.9364ms (afa2e885)
2020-04-30T20:23:50.5624112+01:00 8000001a-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T20:23:50.5681445+01:00 8000001a-0000-ff00-b63f-84710c7967bb [INF] Request finished in 2003.9266ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T20:24:05.2398538+01:00 8000001c-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T20:24:05.2593865+01:00 8000001c-0000-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T20:24:05.2827000+01:00 8000001c-0000-ff00-b63f-84710c7967bb [INF] Request finished in 54.731ms 204  (791a596a)
2020-04-30T20:24:05.2856078+01:00 8000001e-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 62 (ca22a1cb)
2020-04-30T20:24:05.2987056+01:00 8000001e-0000-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T20:24:05.3727665+01:00 8000001e-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T20:24:05.3938202+01:00 8000001e-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T20:24:05.4693585+01:00 8000001e-0000-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T20:24:05.4842524+01:00 8000001e-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T20:24:05.5109419+01:00 8000001e-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T20:24:05.5600118+01:00 8000001e-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T20:24:05.5904405+01:00 8000001e-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T20:24:05.6059693+01:00 8000001e-0000-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T20:24:05.6204568+01:00 8000001e-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 213.5962ms (afa2e885)
2020-04-30T20:24:05.6268927+01:00 8000001e-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T20:24:05.6571744+01:00 8000001e-0000-ff00-b63f-84710c7967bb [INF] Request finished in 353.2696ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T21:45:20.6447466+01:00 80000020-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T21:45:20.6760593+01:00 80000020-0000-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T21:45:20.6907068+01:00 80000020-0000-ff00-b63f-84710c7967bb [INF] Request finished in 57.254400000000004ms 204  (791a596a)
2020-04-30T21:45:20.7296372+01:00 8000003a-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 62 (ca22a1cb)
2020-04-30T21:45:20.7554594+01:00 8000003a-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T21:45:20.7692836+01:00 8000003a-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T21:45:20.7801263+01:00 8000003a-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T21:45:20.8237893+01:00 8000003a-0001-fb00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T21:45:21.7449471+01:00 8000003a-0001-fb00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T21:45:21.8026285+01:00 8000003a-0001-fb00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T21:45:21.8445631+01:00 8000003a-0001-fb00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T21:45:21.8783553+01:00 8000003a-0001-fb00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T21:45:21.9370255+01:00 8000003a-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T21:45:21.9651193+01:00 8000003a-0001-fb00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 1167.9621ms (afa2e885)
2020-04-30T21:45:21.9767159+01:00 8000003a-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T21:45:21.9803574+01:00 8000003a-0001-fb00-b63f-84710c7967bb [INF] Request finished in 1284.9416ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T21:50:10.7622738+01:00 80000022-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/confirm/email   (ca22a1cb)
2020-04-30T21:50:10.8442781+01:00 80000022-0000-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T21:50:10.9987035+01:00 80000022-0000-ff00-b63f-84710c7967bb [INF] Request finished in 271.0872ms 204  (791a596a)
2020-04-30T21:50:11.2303803+01:00 8000003c-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/confirm/email application/json 39 (ca22a1cb)
2020-04-30T21:50:12.6730531+01:00 8000003c-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T21:50:13.8212865+01:00 8000003c-0001-fb00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (500cc934)
2020-04-30T21:50:14.3957161+01:00 8000003c-0001-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"BurserRegistration\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BurserRegistration(SchoolCloud.Contract.RequestObjs.ConfirnmationRequest)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T21:50:14.5570560+01:00 8000003c-0001-fb00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T21:50:14.8927047+01:00 8000003c-0001-fb00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T21:50:15.0025540+01:00 8000003c-0001-fb00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.ConfirnmationResponse"'. (8a1b66c8)
2020-04-30T21:50:15.2833732+01:00 8000003c-0001-fb00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)" in 718.8109000000001ms (afa2e885)
2020-04-30T21:50:15.3105017+01:00 8000003c-0001-fb00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.BurserRegistration (SchoolCloud)"' (99874f2b)
2020-04-30T21:50:15.3147516+01:00 8000003c-0001-fb00-b63f-84710c7967bb [INF] Request finished in 4432.0433ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T21:54:16.6604349+01:00 80000024-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/firstLogin/changePassword   (ca22a1cb)
2020-04-30T21:54:16.7635068+01:00 80000024-0000-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T21:54:16.8295587+01:00 80000024-0000-ff00-b63f-84710c7967bb [INF] Request finished in 138.2855ms 204  (791a596a)
2020-04-30T21:54:16.9442290+01:00 80000026-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/firstLogin/changePassword application/json 91 (ca22a1cb)
2020-04-30T21:54:16.9956077+01:00 80000026-0000-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T21:54:17.0118973+01:00 80000026-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.FirstTimeLogin (SchoolCloud)"' (500cc934)
2020-04-30T21:54:17.2266962+01:00 80000026-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"FirstTimeLogin\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FirstTimeLogin(SchoolCloud.Contract.RequestObjs.ChangePassword)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T21:54:17.2550247+01:00 80000026-0000-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T21:54:18.1978178+01:00 80000026-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T21:54:19.3976283+01:00 80000026-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedUserName] = @__normalizedUserName_0) AND ([a].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([a].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2020-04-30T21:54:19.6560871+01:00 80000026-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T21:54:21.5011247+01:00 80000026-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsFirstTimeLogin] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [PlatformUserId] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserType] = @p16
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
SELECT @@ROWCOUNT;" (65d11854)
2020-04-30T21:54:22.7573661+01:00 80000026-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedUserName] = @__normalizedUserName_0) AND ([a].[NormalizedUserName] IS NOT NULL AND @__normalizedUserName_0 IS NOT NULL)) OR ([a].[NormalizedUserName] IS NULL AND @__normalizedUserName_0 IS NULL)" (65d11854)
2020-04-30T21:54:23.0888245+01:00 80000026-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T21:54:23.3800020+01:00 80000026-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IsFirstTimeLogin] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [PlatformUserId] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserType] = @p16
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
SELECT @@ROWCOUNT;" (65d11854)
2020-04-30T21:54:23.7485850+01:00 80000026-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T21:54:23.9165233+01:00 80000026-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T21:54:23.9371581+01:00 80000026-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T21:54:23.9651599+01:00 80000026-0000-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T21:54:23.9734307+01:00 80000026-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.FirstTimeLogin (SchoolCloud)" in 6741.529500000001ms (afa2e885)
2020-04-30T21:54:23.9975218+01:00 80000026-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.FirstTimeLogin (SchoolCloud)"' (99874f2b)
2020-04-30T21:54:24.0087297+01:00 80000026-0000-ff00-b63f-84710c7967bb [INF] Request finished in 7168.0148ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T21:56:38.8624617+01:00 8000003e-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T21:56:38.9810068+01:00 8000003e-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T21:56:39.0801162+01:00 8000003e-0001-fb00-b63f-84710c7967bb [INF] Request finished in 155.72320000000002ms 204  (791a596a)
2020-04-30T21:56:39.1666269+01:00 80000028-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 62 (ca22a1cb)
2020-04-30T21:56:39.1942836+01:00 80000028-0000-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T21:56:39.2577813+01:00 80000028-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T21:56:39.2811531+01:00 80000028-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T21:56:39.5326221+01:00 80000028-0000-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T21:56:40.3025193+01:00 80000028-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T21:56:40.8379671+01:00 80000028-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T21:56:41.7416746+01:00 80000028-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T21:56:41.7734892+01:00 80000028-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T21:56:41.7879599+01:00 80000028-0000-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T21:56:41.7938730+01:00 80000028-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 2508.0095ms (afa2e885)
2020-04-30T21:56:41.7972099+01:00 80000028-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T21:56:41.8028794+01:00 80000028-0000-ff00-b63f-84710c7967bb [INF] Request finished in 2706.9844000000003ms 200 application/json; charset=utf-8 (791a596a)
2020-04-30T23:50:22.4736616+01:00 8000002a-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T23:50:22.5384773+01:00 8000002a-0000-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T23:50:22.9710538+01:00 8000002a-0000-ff00-b63f-84710c7967bb [INF] Request finished in 476.72150000000005ms 204  (791a596a)
2020-04-30T23:50:23.3045835+01:00 8000002c-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 61 (ca22a1cb)
2020-04-30T23:50:23.3094194+01:00 8000002c-0000-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T23:50:23.3189581+01:00 8000002c-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T23:50:23.3496826+01:00 8000002c-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T23:50:23.3663725+01:00 8000002c-0000-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T23:50:24.3639466+01:00 8000002c-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T23:50:24.4115606+01:00 8000002c-0000-ff00-b63f-84710c7967bb [WRN] Invalid password for user "c41d1152-6b40-4589-ba5e-6a932a7a2b5c". (c2dce6c7)
2020-04-30T23:50:24.4151864+01:00 8000002c-0000-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthFailedResponse"'. (8a1b66c8)
2020-04-30T23:50:24.5818815+01:00 8000002c-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 1093.7873ms (afa2e885)
2020-04-30T23:50:24.5940783+01:00 8000002c-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T23:50:24.5996341+01:00 8000002c-0000-ff00-b63f-84710c7967bb [INF] Request finished in 1979.0704ms 400 application/json; charset=utf-8 (791a596a)
2020-04-30T23:51:14.8702702+01:00 80000040-0001-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 OPTIONS https://localhost:44355/api/v1/identity/login   (ca22a1cb)
2020-04-30T23:51:14.8935067+01:00 80000040-0001-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T23:51:14.9046903+01:00 80000040-0001-fb00-b63f-84710c7967bb [INF] Request finished in 34.9234ms 204  (791a596a)
2020-04-30T23:51:14.9089197+01:00 8000002e-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2.0 POST https://localhost:44355/api/v1/identity/login application/json 62 (ca22a1cb)
2020-04-30T23:51:14.9145808+01:00 8000002e-0000-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2020-04-30T23:51:14.9286433+01:00 8000002e-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (500cc934)
2020-04-30T23:51:14.9448466+01:00 8000002e-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Identity\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolCloud.Contract.RequestObjs.UserLoginReqObj)" on controller "Libraryhub.Controllers.V1.IdentityController" ("SchoolCloud"). (122b2fdf)
2020-04-30T23:51:14.9784163+01:00 8000002e-0000-ff00-b63f-84710c7967bb [INF] Entity Framework Core "3.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-04-30T23:51:14.9935522+01:00 8000002e-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsFirstTimeLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[PlatformUserId], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserType]
FROM [AspNetUsers] AS [a]
WHERE (([a].[NormalizedEmail] = @__normalizedEmail_0) AND ([a].[NormalizedEmail] IS NOT NULL AND @__normalizedEmail_0 IS NOT NULL)) OR ([a].[NormalizedEmail] IS NULL AND @__normalizedEmail_0 IS NULL)" (65d11854)
2020-04-30T23:51:15.1974926+01:00 8000002e-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE ([a].[UserId] = @__user_Id_0) AND @__user_Id_0 IS NOT NULL" (65d11854)
2020-04-30T23:51:16.7397530+01:00 8000002e-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE ([a].[UserId] = @__userId_0) AND @__userId_0 IS NOT NULL" (65d11854)
2020-04-30T23:51:17.4362983+01:00 8000002e-0000-ff00-b63f-84710c7967bb [INF] Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Token], [CreationDate], [ExpiryDate], [Invalidated], [JwtId], [Used], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (65d11854)
2020-04-30T23:51:18.2578275+01:00 8000002e-0000-ff00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"SchoolCloud.Contract.RequestObjs.AuthSuccessResponse"'. (8a1b66c8)
2020-04-30T23:51:18.2856414+01:00 8000002e-0000-ff00-b63f-84710c7967bb [INF] Executed action "Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)" in 3317.8568ms (afa2e885)
2020-04-30T23:51:18.2916407+01:00 8000002e-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"Libraryhub.Controllers.V1.IdentityController.Login (SchoolCloud)"' (99874f2b)
2020-04-30T23:51:18.2979740+01:00 8000002e-0000-ff00-b63f-84710c7967bb [INF] Request finished in 3388.396ms 200 application/json; charset=utf-8 (791a596a)
